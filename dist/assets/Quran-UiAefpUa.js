import{x as _,u as D,r as a,j as e,v as B,w as T}from"./vendor-BiHAOAa9.js";import{C as v}from"./Card-Cr1-PDy0.js";import{u as C,a as $,f as x}from"./index-DUm4aSj_.js";import{k as I,Q as s,l as L}from"./api-DjZZ0u8K.js";import{a as Q,b as U}from"./juz-BdjM_j-f.js";function q(n){const i=new URLSearchParams(n).get("page"),o=parseInt(i??"",10);return o>=1&&o<=s?o:null}const G=["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"];function p(n){return String(n).split("").map(i=>G[+i]??i).join("")}function J({pageNum:n,onPageChange:i,state:o,dispatch:y,previousPage:g}){const t=C(),f=$(),d=I(),[u,m]=a.useState(null),[l,S]=a.useState(!0),[h,c]=a.useState(!1),[b,A]=a.useState(""),[R,P]=a.useState(""),k=a.useCallback(()=>{S(!0),c(!1),L(n).then(r=>{r?(m(r),c(!1),y({type:"SET_QURAN_PAGE",page:n}),y({type:"ADD_QURAN_PAGE_VIEWED",page:n})):(m(null),c(!0)),S(!1)})},[n,y]);a.useEffect(()=>{k()},[k]);const E=()=>{n>1&&i(n-1)},W=()=>{n<s&&i(n+1)},w=()=>{const r=parseInt(b,10);r>=1&&r<=s&&(i(r),A(""))},F=g!=null&&g!==n&&g>=1&&g<=s;return e.jsxs("div",{style:{paddingBottom:24},children:[l&&e.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[e.jsx("div",{style:{width:40,height:40,border:`3px solid ${t.gold}30`,borderTopColor:t.gold,borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),e.jsx("p",{style:{fontSize:13,color:t.muted},children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©..."})]}),!l&&h&&e.jsxs(v,{style:{margin:"24px 0",textAlign:"center",padding:"24px 16px",background:f?`${t.orange}08`:`${t.orange}0C`,border:`1px solid ${t.orange}25`},children:[e.jsx("span",{style:{fontSize:40},children:d?"âš ï¸":"ğŸ“¡"}),e.jsx("p",{style:{fontSize:14,color:t.text,margin:"8px 0 4px"},children:d?"ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„"}),e.jsx("p",{style:{fontSize:12,color:t.textSec,margin:"0 0 12px"},children:d?"Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰":"Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙÙ‚Ø· Ù…ØªØ§Ø­Ø© Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„"}),e.jsx("button",{onClick:k,style:{background:t.gold,color:f?"#080E1F":"#fff",border:"none",borderRadius:12,padding:"10px 24px",fontSize:13,fontWeight:700,fontFamily:x,cursor:"pointer"},children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"})]}),!l&&!h&&u&&e.jsxs(e.Fragment,{children:[u.ayahs.length>0&&e.jsxs("p",{style:{fontSize:12,color:t.gold,fontWeight:700,margin:"0 0 10px",textAlign:"center"},children:["Ø³ÙˆØ±Ø© ",u.ayahs[0].surah.name," â€” Ø¬Ø²Ø¡ ",p(Q(n))]}),e.jsx("div",{style:{background:f?t.card:t.cardAlt,borderRadius:16,padding:"20px 16px",marginBottom:16,border:`1px solid ${t.border}30`,minHeight:320},children:u.ayahs.map((r,j)=>e.jsxs("p",{style:{fontFamily:"Amiri",fontSize:20,lineHeight:2.2,color:t.text,margin:"0 0 6px",textAlign:"right",direction:"rtl",wordSpacing:2},children:[r.text.trim(),e.jsxs("span",{style:{display:"inline-block",fontSize:14,color:t.gold,fontWeight:700,margin:"0 4px",opacity:.9},children:["ï´¿",p(r.numberInSurah),"ï´¾"]})]},j))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,flexWrap:"wrap",marginBottom:16},children:[e.jsx("button",{onClick:E,disabled:n<=1,style:{width:44,height:44,borderRadius:14,border:`1px solid ${t.border}50`,background:n<=1?t.muted+"15":t.cardAlt,color:n<=1?t.muted:t.text,fontSize:18,cursor:n<=1?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:x},children:"â†"}),e.jsxs("span",{style:{fontSize:14,fontWeight:700,color:t.gold,minWidth:100,textAlign:"center"},children:["ØµÙØ­Ø© ",p(n)," Ù…Ù† ",p(s)]}),e.jsx("button",{onClick:W,disabled:n>=s,style:{width:44,height:44,borderRadius:14,border:`1px solid ${t.border}50`,background:n>=s?t.muted+"15":t.cardAlt,color:n>=s?t.muted:t.text,fontSize:18,cursor:n>=s?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:x},children:"â†’"})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("input",{type:"number",min:1,max:s,value:b,onChange:r=>A(r.target.value),placeholder:"Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø©",style:{width:90,padding:"8px 12px",borderRadius:10,border:`1px solid ${t.border}50`,background:t.inputBg,color:t.text,fontSize:14,fontFamily:x,outline:"none",textAlign:"center"}}),e.jsxs("select",{value:R,onChange:r=>{const j=r.target.value;P("");const z=parseInt(j,10);z>=1&&z<=30&&i(U(z))},style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${t.border}50`,background:t.inputBg,color:t.text,fontSize:12,fontFamily:x,outline:"none",minWidth:100},children:[e.jsx("option",{value:"",children:"Ø¬Ø²Ø¡ Ù…Ø¹ÙŠÙ‘Ù†"}),Array.from({length:30},(r,j)=>j+1).map(r=>e.jsxs("option",{value:r,children:["Ø¬Ø²Ø¡ ",p(r)]},r))]}),e.jsx("button",{onClick:w,style:{padding:"8px 18px",borderRadius:10,border:"none",background:`${t.gold}25`,color:t.gold,fontSize:12,fontWeight:700,fontFamily:x,cursor:"pointer"},children:"Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø©"})]}),F&&e.jsxs("button",{onClick:()=>i(g),style:{marginTop:12,width:"100%",padding:"10px",borderRadius:12,border:`1px solid ${t.gold}30`,background:`${t.gold}10`,color:t.gold,fontSize:12,fontWeight:600,fontFamily:x,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:["ğŸ”– Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø¢Ø®Ø± ØµÙØ­Ø© (",p(g),")"]})]})]})}function X({state:n,dispatch:i}){const o=C(),y=$(),g=I(),t=_(),f=D(),d=a.useMemo(()=>q(t.search),[t.search]),[u,m]=a.useState(()=>d!==null?d:n.quranLastPage>=1&&n.quranLastPage<=s?n.quranLastPage:1),[l,S]=a.useState(null);a.useEffect(()=>{d!==null&&(m(d),i({type:"SET_QURAN_PAGE",page:d}),f.replace("/quran"))},[d,i,f]);const h=a.useCallback(c=>{m(b=>(b!==c&&S(b),c))},[]);return e.jsx(B,{children:e.jsx(T,{fullscreen:!0,className:"ion-padding",style:{fontFamily:x,position:"relative","--background":o.bg,"--ion-background-color":o.bg,color:o.text},children:e.jsxs("div",{className:"ion-content-inner",style:{position:"relative",pointerEvents:"auto"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"10px 0 12px"},children:[e.jsx("span",{style:{fontSize:36},children:"ğŸ“–"}),e.jsx("h2",{style:{fontFamily:"Amiri",fontSize:22,color:o.gold,margin:"4px 0 2px"},children:"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…"}),e.jsx("p",{style:{fontSize:11,color:o.muted,margin:0},children:"Ù…ØµØ­Ù Ø¨Ø±ÙˆØ§ÙŠØ© Ø­ÙØµ â€” ØµÙØ­Ø© ÙƒØµÙØ­Ø© Ø§Ù„Ù…ØµØ­Ù"})]}),l!=null&&l!==u&&l>=1&&l<=s&&e.jsx("div",{role:"button",tabIndex:0,onClick:()=>h(l),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),h(l))},style:{cursor:"pointer",marginBottom:12},children:e.jsx(v,{style:{margin:0,padding:"12px 16px",background:y?`linear-gradient(135deg, ${o.gold}0A, ${o.accent}06)`:`linear-gradient(135deg, ${o.gold}0E, ${o.accent}08)`,border:`1px solid ${o.gold}20`},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:42,height:42,borderRadius:12,background:`${o.gold}18`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexShrink:0},children:"ğŸ”–"}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("span",{style:{fontSize:10,color:o.gold,fontWeight:700},children:"Ø¢Ø®Ø± ØµÙØ­Ø© Ù…ÙØªÙˆØ­Ø©"}),e.jsxs("p",{style:{fontSize:14,fontWeight:700,color:o.text,margin:"2px 0 0"},children:["ØµÙØ­Ø© ",p(l)," Ù…Ù†"," ",p(s)]})]}),e.jsx("span",{style:{fontSize:12,color:o.gold,fontWeight:700},children:"Ø§ÙØªØ­ â†"})]})})}),!g&&e.jsxs("div",{style:{padding:"8px 14px",borderRadius:12,background:`${o.orange}10`,border:`1px solid ${o.orange}20`,marginBottom:10,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:14},children:"ğŸ“¡"}),e.jsx("span",{style:{fontSize:11,color:o.orange,fontWeight:600},children:"ÙˆØ¶Ø¹ Ø¹Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„ â€” Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙÙ‚Ø·"})]}),e.jsx(J,{pageNum:u,onPageChange:h,state:n,dispatch:i,previousPage:l}),e.jsx("div",{style:{height:20}})]})})})}export{X as Quran};
