import{r as f,j as e,x as H,y as O}from"./vendor-D5DBOG1K.js";import{D as P}from"./DynMoon-DNT2uJTf.js";import{C as S,S as A}from"./Sec-B60oZY-d.js";import{R}from"./Ring-C7XEKSwg.js";import{C as T}from"./Chk-CrZtq1Fs.js";import{u as _,a as F,f as $}from"./index-CRkZ0aa9.js";import{g as N,A as B}from"./ramadan-Crhlw5rW.js";import{D as I,M as D,a as E,H as K}from"./data-BLwDYrL1.js";import{u as J,f as Y}from"./api-Cilv0t-m.js";function q({trigger:t}){const a=f.useRef(null),n=f.useRef([]),d=f.useRef(null),l=f.useRef({w:375,h:812});return f.useEffect(()=>{if(!t)return;const r=a.current;if(!r)return;const c=r.getContext("2d");if(!c)return;const p=typeof window<"u"?window.innerWidth:375,y=typeof window<"u"?window.innerHeight:812;l.current={w:p,h:y},r.width=p,r.height=y;const m=["#D4A84B","#F5D88E","#3DDC84","#6C7AE0","#A855F7","#F59E42","#fff"];n.current=Array.from({length:55},()=>({x:Math.random()*p,y:-20-Math.random()*200,w:4+Math.random()*6,h:6+Math.random()*8,vx:-2+Math.random()*4,vy:2+Math.random()*4,rot:Math.random()*360,rv:-4+Math.random()*8,c:m[Math.floor(Math.random()*m.length)],life:1}));const b=()=>{const{w:x,h:u}=l.current;c.clearRect(0,0,x,u);let k=!1;n.current.forEach(o=>{o.life<=0||(k=!0,o.x+=o.vx,o.y+=o.vy,o.vy+=.12,o.rot+=o.rv,o.life-=.006,c.save(),c.translate(o.x,o.y),c.rotate(o.rot*Math.PI/180),c.fillStyle=o.c,c.globalAlpha=o.life,c.fillRect(-o.w/2,-o.h/2,o.w,o.h),c.restore())}),k&&(d.current=requestAnimationFrame(b))};return b(),()=>{d.current&&cancelAnimationFrame(d.current)}},[t]),e.jsx("canvas",{ref:a,style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:99}})}const v=[{j:1,n:"Ø§Ù„ÙØ§ØªØ­Ø©",s:1},{j:2,n:"Ø³ÙŠÙ‚ÙˆÙ„",s:22},{j:3,n:"ØªÙ„Ùƒ Ø§Ù„Ø±Ø³Ù„",s:42},{j:4,n:"Ù„Ù† ØªÙ†Ø§Ù„ÙˆØ§",s:62},{j:5,n:"ÙˆØ§Ù„Ù…Ø­ØµÙ†Ø§Øª",s:82},{j:6,n:"Ù„Ø§ ÙŠØ­Ø¨ Ø§Ù„Ù„Ù‡",s:102},{j:7,n:"ÙˆØ¥Ø°Ø§ Ø³Ù…Ø¹ÙˆØ§",s:121},{j:8,n:"ÙˆÙ„Ùˆ Ø£Ù†Ù†Ø§",s:142},{j:9,n:"Ù‚Ø§Ù„ Ø§Ù„Ù…Ù„Ø£",s:162},{j:10,n:"ÙˆØ§Ø¹Ù„Ù…ÙˆØ§",s:182},{j:11,n:"ÙŠØ¹ØªØ°Ø±ÙˆÙ†",s:201},{j:12,n:"ÙˆÙ…Ø§Ù…Ù† Ø¯Ø§Ø¨Ø©",s:222},{j:13,n:"ÙˆÙ…Ø§ Ø£Ø¨Ø±Ø¦",s:242},{j:14,n:"Ø±Ø¨Ù…Ø§",s:262},{j:15,n:"Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ø°ÙŠ",s:282},{j:16,n:"Ù‚Ø§Ù„ Ø£Ù„Ù…",s:302},{j:17,n:"Ø§Ù‚ØªØ±Ø¨",s:322},{j:18,n:"Ù‚Ø¯ Ø£ÙÙ„Ø­",s:342},{j:19,n:"ÙˆÙ‚Ø§Ù„ Ø§Ù„Ø°ÙŠÙ†",s:362},{j:20,n:"Ø£Ù…Ù‘Ù† Ø®Ù„Ù‚",s:382},{j:21,n:"Ø§ØªÙ„ Ù…Ø§ Ø£ÙˆØ­ÙŠ",s:402},{j:22,n:"ÙˆÙ…Ù† ÙŠÙ‚Ù†Øª",s:422},{j:23,n:"ÙˆÙ…Ø§ Ù„ÙŠ",s:442},{j:24,n:"ÙÙ…Ù† Ø£Ø¸Ù„Ù…",s:462},{j:25,n:"Ø¥Ù„ÙŠÙ‡ ÙŠØ±Ø¯",s:482},{j:26,n:"Ø­Ù…",s:502},{j:27,n:"Ù‚Ø§Ù„ ÙÙ…Ø§ Ø®Ø·Ø¨ÙƒÙ…",s:522},{j:28,n:"Ù‚Ø¯ Ø³Ù…Ø¹",s:542},{j:29,n:"ØªØ¨Ø§Ø±Ùƒ",s:562},{j:30,n:"Ø¹Ù…Ù‘",s:582}];function U(t){const n=Math.floor(t/604),d=t%604;let l=1;for(let r=v.length-1;r>=0;r--)if(d>=v[r].s){l=v[r].j;break}return{khatmas:n,currentPages:d,currentJuz:l,juzName:v[l-1].n,khatmaPct:Math.round(d/604*100)}}const Q=[{key:"azkarMorning",icon:"â˜€ï¸",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­"},{key:"azkarEvening",icon:"ğŸŒ…",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡"},{key:"qiyam",icon:"ğŸŒ™",label:"Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„"},{key:"sadaqa",icon:"ğŸ’°",label:"ØµØ¯Ù‚Ø©"},{key:"podcast",icon:"ğŸ™ï¸",label:"Ø¨ÙˆØ¯ÙƒØ§Ø³Øª"},{key:"dua",icon:"ğŸ¤²",label:"Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù‚Ø¨Ù„ Ø§Ù„Ù…ØºØ±Ø¨"},{key:"tafsir",icon:"ğŸ“š",label:"ØªÙØ³ÙŠØ±"}];function se({state:t,dispatch:a}){const n=_(),d=F(),l=N(),r=t.todaySlots.reduce((i,s)=>i+(s.done?s.pages:0),0),c=Math.min(100,Math.round(r/t.dailyPages*100)),p=Object.entries(t.goals).filter(([,i])=>i).map(([i])=>i),y=p.filter(i=>i==="subha"?Object.values(t.subha).reduce((s,j)=>s+j,0)>0:t.todayChecks[i]).length,m=p.length>0?Math.round(y/p.length*100):0,b=y*50+r*3+Object.values(t.subha).reduce((i,s)=>i+s,0),x=U(t.totalPagesEver+r),u=Math.max(0,(l.day??new Date().getDate())-1),{hadith:k}=J(u,K),o=I[u%I.length],W=E[u%E.length],M=D[u%D.length],[z,L]=f.useState(!1),w=c>=100&&m>=100;f.useEffect(()=>{w&&!z&&L(!0)},[w,z]);const G=l.phase==="pre"?`Ø¨Ø§Ù‚ÙŠ ${l.daysTo} ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø±Ù…Ø¶Ø§Ù†`:l.phase==="ramadan"?`${l.day} Ø±Ù…Ø¶Ø§Ù† Ù¡Ù¤Ù¤Ù§`:"Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… â€” Ø§Ø³ØªÙ…Ø±!",g=n[o.color];return e.jsx(H,{children:e.jsxs(O,{fullscreen:!0,className:"ion-padding",style:{fontFamily:$,position:"relative","--background":n.bg,"--ion-background-color":n.bg,color:n.text},children:[e.jsx(q,{trigger:z}),e.jsxs("div",{className:"ion-content-inner",style:{position:"relative"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"10px 0 4px"},children:[e.jsx(P,{day:l.day,size:34}),e.jsx("p",{style:{color:n.muted,fontSize:11,margin:"5px 0 0"},children:B[new Date().getDay()]}),e.jsx("h2",{style:{fontFamily:"Amiri",fontSize:19,color:n.goldLight,margin:"2px 0"},children:G}),e.jsxs("div",{style:{display:"inline-flex",gap:6,flexWrap:"wrap",justifyContent:"center"},children:[e.jsxs("span",{style:{background:n.bb(n.orange),borderRadius:16,padding:"3px 10px",fontSize:11,color:n.orange,fontWeight:700},children:["ğŸ”¥ ",t.streak]}),e.jsxs("span",{style:{background:n.bb(n.purple),borderRadius:16,padding:"3px 10px",fontSize:11,color:n.purple,fontWeight:700},children:["âš¡ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ",t.level]})]})]}),e.jsxs(S,{style:{padding:"10px 14px",margin:"10px 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("span",{style:{fontSize:11,color:n.purple,fontWeight:700},children:["âš¡ ",b," Ù†Ù‚Ø·Ø©"]}),e.jsxs("span",{style:{fontSize:10,color:n.muted},children:["Ø§Ù„ØªØ§Ù„ÙŠ: ",t.level*800]})]}),e.jsx("div",{style:{width:"100%",height:5,background:`${n.purple}1A`,borderRadius:3},children:e.jsx("div",{style:{width:`${Math.min(100,b/Math.max(1,t.level*800)*100)}%`,height:"100%",background:`linear-gradient(90deg,${n.purple},${n.accent})`,borderRadius:3,transition:"width .5s"}})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,margin:"6px 0 12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4},children:[e.jsxs(R,{pct:c,size:112,stroke:8,color:n.gold,pulse:!0,children:[e.jsx("span",{style:{fontSize:24,fontWeight:800,color:n.gold},children:r}),e.jsxs("span",{style:{fontSize:9,color:n.muted},children:["/ ",t.dailyPages," ØµÙØ­Ø©"]})]}),r>0&&e.jsx("button",{type:"button",onClick:()=>a({type:"RESET_TODAY_READING"}),style:{fontSize:10,color:n.muted,background:"transparent",border:"none",fontFamily:$,cursor:"pointer",padding:0,textDecoration:"underline"},children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙŠÙˆÙ…"})]}),e.jsxs(R,{pct:m,size:112,stroke:8,color:n.green,pulse:!0,children:[e.jsx("span",{style:{fontSize:24,fontWeight:800,color:n.green},children:y}),e.jsxs("span",{style:{fontSize:9,color:n.muted},children:["/ ",p.length," ØªØ­Ø¯ÙŠ"]})]})]}),e.jsxs("div",{style:{borderRadius:22,padding:"18px 18px 16px",margin:"0 0 12px",background:d?`linear-gradient(135deg, ${g}12, ${g}06)`:`linear-gradient(135deg, ${g}15, ${g}08)`,border:`1.5px solid ${g}25`,position:"relative",overflow:"hidden",animation:"ibadaCardIn .5s cubic-bezier(.4,0,.2,1)"},children:[e.jsx("div",{style:{position:"absolute",top:-20,left:-20,width:80,height:80,borderRadius:"50%",background:`${g}08`,pointerEvents:"none"}}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,position:"relative"},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:16,background:d?`${g}18`:`${g}12`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,flexShrink:0},children:o.icon}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:3},children:e.jsx("span",{style:{fontSize:10,color:g,fontWeight:700,letterSpacing:.5},children:"âœ¨ Ø¹Ø¨Ø§Ø¯Ø© Ø§Ù„ÙŠÙˆÙ…"})}),e.jsx("p",{style:{fontSize:14,fontWeight:700,color:n.text,margin:"0 0 4px"},children:o.title}),e.jsx("p",{style:{fontSize:12,color:n.textSec,margin:0,lineHeight:1.6},children:o.description}),e.jsxs("div",{style:{marginTop:8,display:"inline-flex",alignItems:"center",gap:4,background:`${g}12`,borderRadius:10,padding:"3px 10px"},children:[e.jsx("span",{style:{fontSize:10},children:"ğŸ…"}),e.jsx("span",{style:{fontSize:10,color:g,fontWeight:600},children:o.reward})]})]})]})]}),e.jsx(S,{style:{marginBottom:12,background:d?`${n.gold}08`:`${n.gold}0A`},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[e.jsx("div",{style:{width:38,height:38,borderRadius:12,background:`${n.gold}15`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,flexShrink:0},children:"ğŸŒ¿"}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("span",{style:{fontSize:10,color:n.gold,fontWeight:700},children:"Ø°ÙÙƒØ± Ø§Ù„ÙŠÙˆÙ…"}),e.jsx("p",{style:{fontFamily:"Amiri",fontSize:13,color:n.text,lineHeight:1.9,margin:"3px 0 0"},children:M})]})]})}),e.jsxs(S,{glow:!0,children:[e.jsx(A,{icon:"ğŸ“–",text:`Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© â€” ${r}/${t.dailyPages}`}),t.readingTimes.map((i,s)=>{const j=t.todaySlots[s],h=j&&j.label===i.label&&j.icon===i.icon?j:{...i,done:!1,pages:Math.ceil(t.dailyPages/Math.max(1,t.readingTimes.length))};return e.jsxs("div",{onClick:()=>a({type:"TOGGLE_SLOT",i:s}),onKeyDown:C=>C.key==="Enter"&&a({type:"TOGGLE_SLOT",i:s}),role:"button",tabIndex:0,style:{display:"flex",alignItems:"center",gap:9,padding:"10px 11px",borderRadius:13,marginBottom:5,background:h.done?`${n.green}0C`:n.cardAlt,border:`1px solid ${h.done?n.green+"28":"transparent"}`,cursor:"pointer",transition:"all .25s"},children:[e.jsx(T,{done:h.done,onClick:C=>{C?.stopPropagation?.(),a({type:"TOGGLE_SLOT",i:s})}}),e.jsx("span",{style:{fontSize:17},children:h.icon}),e.jsx("span",{style:{flex:1,fontSize:13,fontWeight:600,color:h.done?n.green:n.text,textDecoration:h.done?"line-through":"none",transition:"color .25s"},children:h.label}),e.jsx("span",{style:{fontSize:11,color:h.done?n.green:n.muted,fontWeight:600},children:h.done?`${h.pages} Øµ âœ…`:`${h.pages} Øµ`})]},s)}),e.jsxs("div",{style:{background:n.cardAlt,borderRadius:14,padding:"11px 14px",marginTop:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:6},children:[e.jsxs("span",{style:{fontSize:12,fontWeight:700,color:n.goldLight},children:["Ø§Ù„Ø¬Ø²Ø¡ ",x.currentJuz," â€” ",x.juzName]}),e.jsxs("span",{style:{fontSize:12,color:n.gold,fontWeight:700},children:[x.khatmaPct,"%"]})]}),e.jsx("div",{style:{width:"100%",height:6,background:`${n.gold}1A`,borderRadius:3,marginTop:7},children:e.jsx("div",{style:{width:`${x.khatmaPct}%`,height:"100%",background:`linear-gradient(90deg,${n.gold},${n.goldLight})`,borderRadius:3,transition:"width .6s"}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:6,flexWrap:"wrap",gap:4},children:[x.khatmas>0&&e.jsxs("p",{style:{fontSize:10,color:n.green,fontWeight:600,margin:0},children:["âœ… ",x.khatmas," Ø®ØªÙ…Ø© Ù…ÙƒØªÙ…Ù„Ø©"]}),e.jsx("button",{type:"button",onClick:()=>a({type:"RESET_QURAN_PROGRESS"}),style:{fontSize:10,color:n.muted,background:"transparent",border:"none",fontFamily:$,cursor:"pointer",fontWeight:600,padding:0,textDecoration:"underline"},children:"Ø¥Ø¹Ø§Ø¯Ø© Ù…Ù† Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…ØµØ­Ù"})]})]})]}),e.jsxs(S,{style:{marginTop:12},children:[e.jsx(A,{icon:"âœ…",text:"ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…"}),Q.filter(i=>t.goals[i.key]).map(i=>e.jsxs("div",{onClick:()=>a({type:"TOGGLE_CHECK",key:i.key}),onKeyDown:s=>s.key==="Enter"&&a({type:"TOGGLE_CHECK",key:i.key}),role:"button",tabIndex:0,style:{display:"flex",alignItems:"center",gap:10,padding:"10px 11px",borderRadius:13,marginBottom:4,background:t.todayChecks[i.key]?`${n.green}08`:"transparent",cursor:"pointer",transition:"all .25s"},children:[e.jsx(T,{done:!!t.todayChecks[i.key],onClick:s=>{s?.stopPropagation?.(),a({type:"TOGGLE_CHECK",key:i.key})}}),e.jsx("span",{style:{fontSize:17},children:i.icon}),e.jsx("span",{style:{fontSize:13,fontWeight:600,color:t.todayChecks[i.key]?n.green:n.text,textDecoration:t.todayChecks[i.key]?"line-through":"none",flex:1,transition:"color .25s"},children:i.label}),t.todayChecks[i.key]&&e.jsx("span",{style:{fontSize:10,color:n.green,fontWeight:700},children:"+Ù¥Ù  âš¡"})]},i.key))]}),e.jsx(S,{style:{marginTop:12,background:n.gc},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("span",{style:{fontSize:11,color:n.gold,fontWeight:600},children:"ğŸ’ Ø­Ø¯ÙŠØ« Ø§Ù„ÙŠÙˆÙ…"}),e.jsxs("p",{style:{fontFamily:"Amiri",fontSize:14,color:n.text,lineHeight:2,margin:"8px 0 4px",whiteSpace:"pre-line"},children:['"',Y(k.text),'"']}),e.jsxs("p",{style:{fontSize:10,color:n.muted,margin:0},children:["â€” ",k.source]})]})}),e.jsxs("div",{style:{marginTop:12,borderRadius:18,padding:"14px 16px",background:d?`linear-gradient(135deg, ${n.accent}0A, ${n.purple}08)`:`linear-gradient(135deg, ${n.accent}0D, ${n.purple}0A)`,border:`1px solid ${n.accent}18`,display:"flex",alignItems:"flex-start",gap:10},children:[e.jsx("span",{style:{fontSize:20,width:34,height:34,borderRadius:10,background:`${n.accent}12`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:"ğŸ’¡"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("span",{style:{fontSize:10,color:n.accent,fontWeight:700},children:"Ù†ØµÙŠØ­Ø© Ø§Ù„ÙŠÙˆÙ…"}),e.jsx("p",{style:{fontSize:12,color:n.textSec,margin:"3px 0 0",lineHeight:1.7},children:W})]})]}),w&&e.jsxs("div",{style:{marginTop:12,textAlign:"center",padding:"16px",borderRadius:20,background:`linear-gradient(135deg,${n.gold}12,${n.green}0A)`,border:`1px solid ${n.gold}28`,animation:"fadeIn .6s"},children:[e.jsx("span",{style:{fontSize:40},children:"ğŸ†"}),e.jsx("p",{style:{fontSize:15,fontWeight:800,color:n.goldLight,margin:"4px 0 2px"},children:"ÙŠÙˆÙ… Ù…Ø«Ø§Ù„ÙŠ!"})]}),e.jsx("div",{style:{height:16}})]})]})})}export{se as Home};
