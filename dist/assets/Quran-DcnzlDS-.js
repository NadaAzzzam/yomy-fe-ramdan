import{D as w,u as W,r as a,j as e,v as F,w as D}from"./vendor-MGWi7VC4.js";import{C as A}from"./Card-BimS8pNI.js";import{u as z,a as C,f as x}from"./index-B9HOSZBA.js";import{h as v,Q as i,j as _}from"./api-Cw4_Z0YD.js";function T(n){const r=new URLSearchParams(n).get("page"),o=parseInt(r??"",10);return o>=1&&o<=i?o:null}const L=["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"];function f(n){return String(n).split("").map(r=>L[+r]??r).join("")}function Q({pageNum:n,onPageChange:r,state:o,dispatch:h,previousPage:g}){const t=z(),p=C(),d=v(),[y,m]=a.useState(null),[s,j]=a.useState(!0),[u,c]=a.useState(!1),[b,k]=a.useState(""),S=a.useCallback(()=>{j(!0),c(!1),_(n).then(l=>{l?(m(l),c(!1),h({type:"SET_QURAN_PAGE",page:n}),h({type:"ADD_QURAN_PAGE_VIEWED",page:n})):(m(null),c(!0)),j(!1)})},[n,h]);a.useEffect(()=>{S()},[S]);const $=()=>{n>1&&r(n-1)},I=()=>{n<i&&r(n+1)},R=()=>{const l=parseInt(b,10);l>=1&&l<=i&&(r(l),k(""))},E=g!=null&&g!==n&&g>=1&&g<=i;return e.jsxs("div",{style:{paddingBottom:24},children:[s&&e.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[e.jsx("div",{style:{width:40,height:40,border:`3px solid ${t.gold}30`,borderTopColor:t.gold,borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),e.jsx("p",{style:{fontSize:13,color:t.muted},children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©..."})]}),!s&&u&&e.jsxs(A,{style:{margin:"24px 0",textAlign:"center",padding:"24px 16px",background:p?`${t.orange}08`:`${t.orange}0C`,border:`1px solid ${t.orange}25`},children:[e.jsx("span",{style:{fontSize:40},children:d?"âš ï¸":"ğŸ“¡"}),e.jsx("p",{style:{fontSize:14,color:t.text,margin:"8px 0 4px"},children:d?"ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„"}),e.jsx("p",{style:{fontSize:12,color:t.textSec,margin:"0 0 12px"},children:d?"Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰":"Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙÙ‚Ø· Ù…ØªØ§Ø­Ø© Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„"}),e.jsx("button",{onClick:S,style:{background:t.gold,color:p?"#080E1F":"#fff",border:"none",borderRadius:12,padding:"10px 24px",fontSize:13,fontWeight:700,fontFamily:x,cursor:"pointer"},children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"})]}),!s&&!u&&y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{background:p?t.card:t.cardAlt,borderRadius:16,padding:"20px 16px",marginBottom:16,border:`1px solid ${t.border}30`,minHeight:320},children:y.ayahs.map((l,P)=>e.jsxs("p",{style:{fontFamily:"Amiri",fontSize:20,lineHeight:2.2,color:t.text,margin:"0 0 6px",textAlign:"right",direction:"rtl",wordSpacing:2},children:[l.text.trim(),e.jsxs("span",{style:{display:"inline-block",fontSize:14,color:t.gold,fontWeight:700,margin:"0 4px",opacity:.9},children:["ï´¿",f(l.numberInSurah),"ï´¾"]})]},P))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,flexWrap:"wrap",marginBottom:16},children:[e.jsx("button",{onClick:$,disabled:n<=1,style:{width:44,height:44,borderRadius:14,border:`1px solid ${t.border}50`,background:n<=1?t.muted+"15":t.cardAlt,color:n<=1?t.muted:t.text,fontSize:18,cursor:n<=1?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:x},children:"â†"}),e.jsxs("span",{style:{fontSize:14,fontWeight:700,color:t.gold,minWidth:100,textAlign:"center"},children:["ØµÙØ­Ø© ",f(n)," Ù…Ù† ",f(i)]}),e.jsx("button",{onClick:I,disabled:n>=i,style:{width:44,height:44,borderRadius:14,border:`1px solid ${t.border}50`,background:n>=i?t.muted+"15":t.cardAlt,color:n>=i?t.muted:t.text,fontSize:18,cursor:n>=i?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:x},children:"â†’"})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("input",{type:"number",min:1,max:i,value:b,onChange:l=>k(l.target.value),placeholder:"Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø©",style:{width:90,padding:"8px 12px",borderRadius:10,border:`1px solid ${t.border}50`,background:t.inputBg,color:t.text,fontSize:14,fontFamily:x,outline:"none",textAlign:"center"}}),e.jsx("button",{onClick:R,style:{padding:"8px 18px",borderRadius:10,border:"none",background:`${t.gold}25`,color:t.gold,fontSize:12,fontWeight:700,fontFamily:x,cursor:"pointer"},children:"Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø©"})]}),E&&e.jsxs("button",{onClick:()=>r(g),style:{marginTop:12,width:"100%",padding:"10px",borderRadius:12,border:`1px solid ${t.gold}30`,background:`${t.gold}10`,color:t.gold,fontSize:12,fontWeight:600,fontFamily:x,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:["ğŸ”– Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø¢Ø®Ø± ØµÙØ­Ø© (",f(g),")"]})]})]})}function H({state:n,dispatch:r}){const o=z(),h=C(),g=v(),t=w(),p=W(),d=a.useMemo(()=>T(t.search),[t.search]),[y,m]=a.useState(()=>d!==null?d:n.quranLastPage>=1&&n.quranLastPage<=i?n.quranLastPage:1),[s,j]=a.useState(null);a.useEffect(()=>{d!==null&&(m(d),r({type:"SET_QURAN_PAGE",page:d}),p.replace("/quran"))},[d,r,p]);const u=a.useCallback(c=>{m(b=>(b!==c&&j(b),c))},[]);return e.jsx(F,{children:e.jsx(D,{fullscreen:!0,className:"ion-padding",style:{fontFamily:x,position:"relative","--background":o.bg,"--ion-background-color":o.bg,color:o.text},children:e.jsxs("div",{className:"ion-content-inner",style:{position:"relative",pointerEvents:"auto"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"10px 0 12px"},children:[e.jsx("span",{style:{fontSize:36},children:"ğŸ“–"}),e.jsx("h2",{style:{fontFamily:"Amiri",fontSize:22,color:o.gold,margin:"4px 0 2px"},children:"Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…"}),e.jsx("p",{style:{fontSize:11,color:o.muted,margin:0},children:"Ù…ØµØ­Ù Ø¨Ø±ÙˆØ§ÙŠØ© Ø­ÙØµ â€” ØµÙØ­Ø© ÙƒØµÙØ­Ø© Ø§Ù„Ù…ØµØ­Ù"})]}),s!=null&&s!==y&&s>=1&&s<=i&&e.jsx("div",{role:"button",tabIndex:0,onClick:()=>u(s),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),u(s))},style:{cursor:"pointer",marginBottom:12},children:e.jsx(A,{style:{margin:0,padding:"12px 16px",background:h?`linear-gradient(135deg, ${o.gold}0A, ${o.accent}06)`:`linear-gradient(135deg, ${o.gold}0E, ${o.accent}08)`,border:`1px solid ${o.gold}20`},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:42,height:42,borderRadius:12,background:`${o.gold}18`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexShrink:0},children:"ğŸ”–"}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("span",{style:{fontSize:10,color:o.gold,fontWeight:700},children:"Ø¢Ø®Ø± ØµÙØ­Ø© Ù…ÙØªÙˆØ­Ø©"}),e.jsxs("p",{style:{fontSize:14,fontWeight:700,color:o.text,margin:"2px 0 0"},children:["ØµÙØ­Ø© ",f(s)," Ù…Ù†"," ",f(i)]})]}),e.jsx("span",{style:{fontSize:12,color:o.gold,fontWeight:700},children:"Ø§ÙØªØ­ â†"})]})})}),!g&&e.jsxs("div",{style:{padding:"8px 14px",borderRadius:12,background:`${o.orange}10`,border:`1px solid ${o.orange}20`,marginBottom:10,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:14},children:"ğŸ“¡"}),e.jsx("span",{style:{fontSize:11,color:o.orange,fontWeight:600},children:"ÙˆØ¶Ø¹ Ø¹Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„ â€” Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙÙ‚Ø·"})]}),e.jsx(Q,{pageNum:y,onPageChange:u,state:n,dispatch:r,previousPage:s}),e.jsx("div",{style:{height:20}})]})})})}export{H as Quran};
