import{r as i,j as t,v as Q,w as Z}from"./vendor-Dv0kmEEh.js";import{C as f}from"./Card-C6kSUSbx.js";import{S as x}from"./Sec-Dtzh3dZw.js";import{B as D}from"./Btn-8oxhvM4X.js";import{u as ee,g as te,f as s,p as ne,r as oe}from"./index-B8U0s5eJ.js";import{e as L,J as U}from"./data-3aVLcfxd.js";const p=o=>({width:"100%",background:o.inputBg,border:`1px solid ${o.muted}25`,borderRadius:10,padding:"9px 12px",color:o.text,fontFamily:s,fontSize:13,outline:"none",direction:"rtl",boxSizing:"border-box"});function ce({state:o,dispatch:l}){const e=ee(),y=te(),[J,b]=i.useState(!1),[j,S]=i.useState(""),[$,k]=i.useState(""),[T,I]=i.useState(""),[u,M]=i.useState("general"),[E,F]=i.useState(o.duaNotificationTime??""),[v,N]=i.useState(!1),[d,z]=i.useState("duas"),m=new Date,R=m.getFullYear()+"-"+String(m.getMonth()+1).padStart(2,"0")+"-"+String(m.getDate()).padStart(2,"0"),P=Math.max(0,(y.day??m.getDate())-1),H=U[P%U.length],g=o.journal[R],[_,G]=i.useState(g?.freeText??""),[O,q]=i.useState(g?.closestToAllah??""),[B,X]=i.useState(g?.improveText??""),[h,V]=i.useState(g?.dayRating??0),[C,Y]=i.useState(!1),A=o.duas.filter(n=>n.answered),W=o.duas.filter(n=>!n.answered),w=n=>({flex:1,padding:"9px 6px",borderRadius:12,border:`1.5px solid ${n?e.gold:e.border+"30"}`,background:n?`${e.gold}15`:"transparent",color:n?e.goldLight:e.muted,fontSize:12,fontWeight:700,cursor:"pointer",fontFamily:s,transition:"all .2s",textAlign:"center"});return t.jsx(Q,{children:t.jsx(Z,{fullscreen:!0,className:"ion-padding",style:{fontFamily:s,"--background":e.bg,"--ion-background-color":e.bg,color:e.text},children:t.jsxs("div",{className:"ion-content-inner",children:[t.jsx("div",{style:{textAlign:"center",padding:"12px 0 6px"},children:t.jsx("h2",{style:{fontFamily:"Amiri",fontSize:20,color:e.goldLight,margin:0},children:"ğŸ“ Ø¯ÙØªØ± Ø±Ù…Ø¶Ø§Ù†"})}),t.jsxs("div",{style:{display:"flex",gap:6,margin:"8px 0 12px"},children:[t.jsx("button",{style:w(d==="duas"),onClick:()=>z("duas"),children:"ğŸ¤² Ø£Ø¯Ø¹ÙŠØ©"}),t.jsx("button",{style:w(d==="journal"),onClick:()=>z("journal"),children:"ğŸ“ Ù…Ø°ÙƒØ±Ø§Øª"}),t.jsx("button",{style:w(d==="podcasts"),onClick:()=>z("podcasts"),children:"ğŸ™ï¸ Ø¯Ø±ÙˆØ³"})]}),d==="duas"&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{glow:!0,style:{marginTop:0},children:[t.jsx(x,{icon:"ğŸ¤²",text:`Ø£Ø¯Ø¹ÙŠØªÙŠ (${W.length})`}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap",marginBottom:10},children:L.map(n=>t.jsxs("button",{onClick:()=>M(n.id),style:{padding:"5px 10px",borderRadius:10,border:`1.5px solid ${u===n.id?e.gold:e.border+"30"}`,background:u===n.id?`${e.gold}15`:"transparent",color:u===n.id?e.goldLight:e.muted,fontSize:10,fontFamily:s,cursor:"pointer",fontWeight:600,transition:"all .2s"},children:[n.icon," ",n.label]},n.id))}),W.map((n,r)=>{const a=o.duas.indexOf(n),c=L.find(K=>K.id===n.category);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:e.bb(e.gold),borderRadius:12,padding:"9px 12px",marginBottom:5},children:[t.jsx("span",{style:{fontSize:14},children:c?.icon??"ğŸ¤²"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("p",{style:{margin:0,fontSize:13,fontFamily:"Amiri",lineHeight:1.8,color:e.text},children:n.text}),c&&c.id!=="general"&&t.jsx("span",{style:{fontSize:9,color:e.muted,background:`${e.muted}12`,borderRadius:6,padding:"1px 6px"},children:c.label})]}),t.jsx("button",{onClick:()=>l({type:"TOGGLE_DUA_ANSWERED",i:a}),title:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©",style:{width:26,height:26,borderRadius:8,border:`1px solid ${e.green}40`,background:`${e.green}12`,color:e.green,fontSize:12,cursor:"pointer"},children:"âœ“"}),t.jsx("button",{onClick:()=>l({type:"RM_DUA",i:a}),style:{width:22,height:22,borderRadius:7,border:"none",background:`${e.red}20`,color:e.red,fontSize:12,cursor:"pointer"},children:"âœ•"})]},r)}),t.jsxs("div",{style:{display:"flex",gap:7,marginTop:4},children:[t.jsx("input",{value:T,onChange:n=>I(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø¯Ø¹Ø§Ø¡...",style:{flex:1,background:e.inputBg,border:`1px solid ${e.muted}28`,borderRadius:12,padding:"10px 12px",color:e.text,fontFamily:"Amiri",fontSize:14,outline:"none",direction:"rtl"}}),t.jsx("button",{onClick:()=>{T.trim()&&(l({type:"ADD_DUA",d:{text:T,day:`${y.day||"â€”"} Ø±Ù…Ø¶Ø§Ù†`,category:u}}),I(""))},style:{width:40,height:40,borderRadius:12,border:"none",background:e.gold,color:"#fff",fontSize:18,cursor:"pointer",fontWeight:800,flexShrink:0},children:"+"})]}),A.length>0&&t.jsxs("div",{style:{marginTop:12},children:[t.jsxs("button",{onClick:()=>Y(!C),style:{width:"100%",padding:"10px",borderRadius:12,border:`1px solid ${e.green}25`,background:`${e.green}08`,color:e.green,fontSize:12,cursor:"pointer",fontFamily:s,fontWeight:600},children:["âœ… Ø¯Ø¹ÙˆØ§Øª Ù…Ø³ØªØ¬Ø§Ø¨Ø© (",A.length,") ",C?"â–²":"â–¼"]}),C&&A.map((n,r)=>{const a=o.duas.indexOf(n);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:`${e.green}08`,borderRadius:12,padding:"9px 12px",marginTop:5,border:`1px solid ${e.green}15`},children:[t.jsx("span",{style:{fontSize:14},children:"âœ…"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("p",{style:{margin:0,fontSize:13,fontFamily:"Amiri",lineHeight:1.8,color:e.green},children:n.text}),n.answeredDate&&t.jsxs("span",{style:{fontSize:9,color:e.muted},children:["Ø§Ø³ØªÙØ¬ÙŠØ¨Øª ",n.answeredDate]})]}),t.jsx("button",{onClick:()=>l({type:"TOGGLE_DUA_ANSWERED",i:a}),style:{fontSize:10,color:e.muted,background:"transparent",border:"none",cursor:"pointer",fontFamily:s,textDecoration:"underline"},children:"ØªØ±Ø§Ø¬Ø¹"})]},r)})]})]}),t.jsxs(f,{style:{marginTop:12},children:[t.jsx(x,{icon:"ğŸ””",text:"ØªØ°ÙƒÙŠØ± Ø£Ø¯Ø¹ÙŠØ© ÙˆØ¥Ø´Ø¹Ø§Ø±Ø§Øª"}),t.jsx("p",{style:{fontSize:11,color:e.muted,margin:"0 0 10px"},children:"Ø§Ø®ØªØ± ÙˆÙ‚Øª ÙŠÙˆØµÙ„Ùƒ ÙÙŠÙ‡ Ø¯Ø¹Ø§Ø¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ù‚Ø§Ø¦Ù…ØªÙƒ ÙƒÙ„ ÙŠÙˆÙ…."}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[t.jsx("input",{type:"time",value:E||o.duaNotificationTime||"",onChange:n=>F(n.target.value),style:{background:e.inputBg,border:`1px solid ${e.muted}28`,borderRadius:12,padding:"10px 12px",color:e.text,fontSize:14,fontFamily:s}}),t.jsx("button",{onClick:()=>{const n=E.trim(),r=n?ne(n):null;if(r){const a=String(r.hour).padStart(2,"0"),c=String(r.minute).padStart(2,"0");l({type:"SET_DUA_NOTIFICATION_TIME",time:`${a}:${c}`})}},style:{padding:"10px 14px",borderRadius:12,border:"none",background:e.green,color:"#fff",fontSize:12,cursor:"pointer",fontFamily:s,fontWeight:600},children:"ØªÙØ¹ÙŠÙ„"}),o.duaNotificationTime&&t.jsx("button",{onClick:()=>{l({type:"SET_DUA_NOTIFICATION_TIME",time:null}),F("")},style:{padding:"10px 14px",borderRadius:12,border:`1px solid ${e.red}40`,background:"transparent",color:e.red,fontSize:12,cursor:"pointer",fontFamily:s},children:"Ø¥Ù„ØºØ§Ø¡"})]}),o.duaNotificationTime&&t.jsxs("p",{style:{fontSize:12,color:e.green,margin:"8px 0 0"},children:["âœ“ ØªØ°ÙƒÙŠØ± Ù…ÙØ¹Ù‘Ù„ Ø§Ù„Ø³Ø§Ø¹Ø© ",o.duaNotificationTime]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:12,padding:"10px 12px",background:e.cardAlt,borderRadius:12},children:[t.jsx("span",{style:{fontSize:12,color:e.text},children:"ØªØ°ÙƒÙŠØ±Ø§Øª ØªØ´Ø¬ÙŠØ¹ÙŠØ©"}),t.jsx("button",{onClick:()=>l({type:"SET_REMINDERS_ENABLED",enabled:!o.remindersEnabled}),style:{width:44,height:24,borderRadius:12,border:"none",background:o.remindersEnabled?e.green:e.muted+"44",padding:2,cursor:"pointer"},children:t.jsx("div",{style:{width:20,height:20,borderRadius:10,background:"#fff",transform:o.remindersEnabled?"translateX(0)":"translateX(20px)",transition:"transform .2s"}})})]}),t.jsx("button",{disabled:v,onClick:async()=>{N(!0),await oe(),N(!1)},style:{marginTop:10,padding:"10px 14px",borderRadius:12,border:`1px solid ${e.gold}50`,background:e.bb(e.gold),color:e.gold,fontSize:12,cursor:v?"wait":"pointer",fontFamily:s,width:"100%"},children:v?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø·Ù„Ø¨...":"Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"})]})]}),d==="journal"&&t.jsxs(f,{glow:!0,style:{marginTop:0},children:[t.jsx(x,{icon:"ğŸ“",text:"Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…"}),t.jsxs("p",{style:{fontSize:12,color:e.accent,fontWeight:600,margin:"0 0 10px",fontFamily:"Amiri",lineHeight:1.8},children:["ğŸ’­ ",H]}),t.jsx("p",{style:{fontSize:12,color:e.textSec,margin:"0 0 5px"},children:"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙŠÙˆÙ…:"}),t.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginBottom:12},children:[1,2,3,4,5].map(n=>t.jsx("button",{onClick:()=>V(n),style:{width:40,height:40,borderRadius:12,border:`2px solid ${h>=n?e.gold:e.border+"40"}`,background:h>=n?`${e.gold}18`:"transparent",cursor:"pointer",fontSize:16,transition:"all .2s"},children:h>=n?"â­":"â˜†"},n))}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ’š Ø¥ÙŠÙ‡ Ø£ÙƒØªØ± Ø­Ø§Ø¬Ø© Ù‚Ø±Ø¨ØªÙƒ Ù…Ù† Ø±Ø¨Ù†Ø§ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ"}),t.jsx("textarea",{value:O,onChange:n=>q(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:{...p(e),resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ¯ Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ Ù†ÙØ³Ùƒ ØªØ­Ø³Ù‘Ù†Ù‡ Ø¨ÙƒØ±Ø©ØŸ"}),t.jsx("textarea",{value:B,onChange:n=>X(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:{...p(e),resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ“ ÙƒØªØ§Ø¨Ø© Ø­Ø±Ø©"}),t.jsx("textarea",{value:_,onChange:n=>G(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø£ÙŠ Ø­Ø§Ø¬Ø© ÙÙŠ Ù‚Ù„Ø¨Ùƒ...",rows:4,style:{...p(e),resize:"none"}})]}),t.jsx(D,{small:!0,color:e.green,onClick:()=>{l({type:"SAVE_JOURNAL",date:R,entry:{date:R,dayRating:h,closestToAllah:O,improveText:B,freeText:_}})},style:{width:"100%"},children:"Ø­ÙØ¸ Ø§Ù„Ù…Ø°ÙƒØ±Ø© âœ“"}),g&&t.jsx("p",{style:{fontSize:11,color:e.green,margin:"8px 0 0",textAlign:"center"},children:"âœ… Ø§Ù„Ù…Ø°ÙƒØ±Ø© Ù…Ø­ÙÙˆØ¸Ø©"}),Object.keys(o.journal).length>0&&t.jsxs("div",{style:{marginTop:14},children:[t.jsx(x,{icon:"ğŸ“…",text:"Ø§Ù„Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"}),Object.entries(o.journal).sort(([n],[r])=>r.localeCompare(n)).slice(0,7).map(([n,r])=>t.jsxs("div",{style:{background:e.cardAlt,borderRadius:12,padding:"10px 12px",marginBottom:6},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[t.jsx("span",{style:{fontSize:11,color:e.gold,fontWeight:600},children:n}),t.jsx("span",{style:{fontSize:12},children:"â­".repeat(r.dayRating)})]}),r.closestToAllah&&t.jsxs("p",{style:{fontSize:11,color:e.textSec,margin:"2px 0",lineHeight:1.6},children:["ğŸ’š ",r.closestToAllah]}),r.freeText&&t.jsxs("p",{style:{fontSize:11,color:e.muted,margin:"2px 0",lineHeight:1.6},children:[r.freeText.slice(0,100),r.freeText.length>100?"...":""]})]},n))]})]}),d==="podcasts"&&t.jsxs(f,{glow:!0,style:{marginTop:0},children:[t.jsx(x,{icon:"ğŸ™ï¸",text:`Ø¨ÙˆØ¯ÙƒØ§Ø³Øª ÙˆØ¯Ø±ÙˆØ³ (${o.podcasts.length})`}),o.podcasts.map((n,r)=>t.jsxs("div",{style:{background:e.cardAlt,borderRadius:14,padding:"12px 14px",marginBottom:7,position:"relative"},children:[t.jsx("button",{onClick:()=>l({type:"RM_PODCAST",i:r}),style:{position:"absolute",top:7,left:7,width:22,height:22,borderRadius:7,border:"none",background:`${e.red}20`,color:e.red,fontSize:12,cursor:"pointer"},children:"âœ•"}),t.jsx("p",{style:{margin:0,fontSize:13,fontWeight:700,color:e.text,paddingLeft:26},children:n.title}),t.jsx("p",{style:{margin:"2px 0 0",fontSize:10,color:e.muted},children:n.day}),n.note&&t.jsxs("p",{style:{margin:"6px 0 0",fontSize:12,color:e.goldLight,background:e.bb(e.gold),padding:"7px 10px",borderRadius:10,lineHeight:1.7},children:["ğŸ’¡ ",n.note]})]},r)),J?t.jsxs("div",{style:{background:e.cardAlt,borderRadius:14,padding:"12px"},children:[t.jsx("input",{value:j,onChange:n=>S(n.target.value),placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©...",style:{...p(e),marginBottom:7,background:e.bg}}),t.jsx("textarea",{value:$,onChange:n=>k(n.target.value),placeholder:"Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ...",rows:3,style:{...p(e),resize:"none",background:e.bg}}),t.jsxs("div",{style:{display:"flex",gap:7,marginTop:7},children:[t.jsx(D,{small:!0,color:e.green,onClick:()=>{j.trim()&&(l({type:"ADD_PODCAST",p:{title:j,note:$,day:`${y.day||"â€”"} Ø±Ù…Ø¶Ø§Ù†`}}),S(""),k(""),b(!1))},style:{flex:1},children:"Ø­ÙØ¸ âœ“"}),t.jsx(D,{small:!0,color:e.muted,onClick:()=>{b(!1),S(""),k("")},style:{flex:1},children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):t.jsx("button",{onClick:()=>b(!0),style:{width:"100%",padding:"12px",borderRadius:14,border:`2px dashed ${e.accent}35`,background:`${e.accent}08`,color:e.accent,fontSize:12,cursor:"pointer",fontFamily:s,fontWeight:600},children:"+ Ø£Ø¶Ù Ù…Ø­Ø§Ø¶Ø±Ø© / Ø¨ÙˆØ¯ÙƒØ§Ø³Øª"})]}),t.jsx("div",{style:{height:16}})]})})})}export{ce as Notes};
