import{r as z,j as e,v as G,w as P}from"./vendor-Dv0kmEEh.js";import{D as w}from"./DynMoon-BZNTNdKG.js";import{C as s}from"./Card-C6kSUSbx.js";import{S as a}from"./Sec-Dtzh3dZw.js";import{C as y}from"./Chk-CFT1EWr7.js";import{u as F,a as H,g as B,f as c}from"./index-B8U0s5eJ.js";import{f as p,L as Y,g as U,B as K,F as v,C as V,h as A,S as $,E as Q,i as R,N as _,j as u}from"./data-3aVLcfxd.js";function te({state:t,dispatch:o}){const n=F(),j=H(),l=B(),[x,f]=z.useState(0),g=p[x],b=n[g.color]??n.gold,d=typeof b=="string"?b:n.gold,S=Math.max(0,(l.day??new Date().getDate())-1),k=A[S%A.length],C=_[S%_.length],I=l.phase==="ramadan"&&l.day>20,D=Y.includes(l.day),L=Object.values(t.familyChecks).filter(Boolean).length,M=Object.values(t.selfCareChecks).filter(Boolean).length,O=Object.values(t.lastTenChecks).filter(Boolean).length,T=t.streak,h=z.useMemo(()=>U.filter(i=>T>=i.days).pop(),[T]),m=new Date,W=m.getFullYear()+"-"+String(m.getMonth()+1).padStart(2,"0")+"-"+String(m.getDate()).padStart(2,"0"),N={width:"100%",background:n.inputBg,border:`1px solid ${n.muted}25`,borderRadius:10,padding:"9px 12px",color:n.text,fontFamily:c,fontSize:13,outline:"none",direction:"rtl",boxSizing:"border-box",resize:"none"};return e.jsx(G,{children:e.jsx(P,{fullscreen:!0,className:"ion-padding",style:{fontFamily:c,"--background":n.bg,"--ion-background-color":n.bg,color:n.text},children:e.jsxs("div",{className:"ion-content-inner",children:[e.jsxs("div",{style:{textAlign:"center",padding:"12px 0 6px"},children:[e.jsx(w,{day:l.day,size:36}),e.jsx("h2",{style:{fontFamily:"Amiri",fontSize:20,color:n.goldLight,margin:"6px 0 2px"},children:"Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­ ðŸŒ™"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:8,margin:"10px 0",flexWrap:"wrap"},children:[{v:l.phase==="pre"?"â€”":l.day,l:"Ù…Ø¶Ù‰",c:n.gold},{v:l.phase==="pre"?l.daysTo:l.remaining,l:"Ø¨Ø§Ù‚ÙŠ",c:n.orange},{v:t.streak,l:"ðŸ”¥",c:n.green}].map((i,r)=>e.jsxs("div",{style:{textAlign:"center",background:n.card,borderRadius:16,padding:"10px 14px",border:`1px solid ${i.c}1A`,flex:"1 1 80px",minWidth:0},children:[e.jsx("p",{style:{fontSize:24,fontWeight:800,color:i.c,margin:0},children:i.v}),e.jsx("p",{style:{fontSize:9,color:n.muted,margin:"2px 0 0"},children:i.l})]},r))}),h&&e.jsxs("div",{style:{textAlign:"center",padding:"12px 14px",borderRadius:18,background:`linear-gradient(135deg, ${n.gold}10, ${n.green}08)`,border:`1px solid ${n.gold}20`,marginBottom:10,animation:"fadeIn .5s"},children:[e.jsx("span",{style:{fontSize:28},children:h.icon}),e.jsx("p",{style:{fontSize:14,fontWeight:700,color:n.goldLight,margin:"4px 0 2px"},children:h.title}),e.jsx("p",{style:{fontSize:12,color:n.textSec,margin:0,lineHeight:1.6},children:h.message})]}),e.jsxs(s,{glow:!0,style:{textAlign:"center",padding:"20px 16px",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:3,background:`linear-gradient(90deg,${d},${d}44)`}}),e.jsx("span",{style:{fontSize:38},children:g.icon}),e.jsx("h3",{style:{fontFamily:"Amiri",fontSize:18,color:d,margin:"8px 0"},children:g.title}),e.jsx("p",{style:{fontSize:13,fontFamily:"Amiri",color:n.text,lineHeight:2,margin:0},children:g.text}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:5,marginTop:12},children:p.map((i,r)=>e.jsx("div",{onClick:()=>f(r),style:{width:x===r?18:7,height:7,borderRadius:4,background:x===r?d:`${n.muted}33`,cursor:"pointer",transition:"all .3s"}},r))}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[e.jsx("button",{onClick:()=>f((x+1)%p.length),style:{background:`${d}15`,border:`1px solid ${d}30`,borderRadius:12,padding:"7px 18px",color:d,fontSize:12,fontFamily:c,cursor:"pointer",fontWeight:600},children:"â†’ Ø§Ù„ØªØ§Ù„ÙŠ"}),e.jsx("button",{onClick:()=>f((x-1+p.length)%p.length),style:{background:`${d}15`,border:`1px solid ${d}30`,borderRadius:12,padding:"7px 18px",color:d,fontSize:12,fontFamily:c,cursor:"pointer",fontWeight:600},children:"Ø§Ù„Ø³Ø§Ø¨Ù‚ â†"})]})]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"ðŸŒ™",text:"Ù…Ø±Ø§Ø¬Ø¹Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…"}),e.jsx("p",{style:{fontSize:12,color:n.textSec,margin:"0 0 8px"},children:"ØªÙ‚ÙŠÙŠÙ…Ùƒ Ù„ÙŠÙˆÙ…Ùƒ:"}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginBottom:12},children:[1,2,3,4,5].map(i=>e.jsx("button",{onClick:()=>o({type:"SET_BEDTIME_RATING",rating:i}),style:{width:42,height:42,borderRadius:12,border:`2px solid ${t.bedtimeRating>=i?n.gold:n.border+"40"}`,background:t.bedtimeRating>=i?`${n.gold}18`:"transparent",cursor:"pointer",fontSize:16,transition:"all .2s"},children:t.bedtimeRating>=i?"â­":"â˜†"},i))}),K.filter(i=>i.type==="text").map(i=>e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("p",{style:{fontSize:12,color:n.textSec,margin:"0 0 5px"},children:[i.icon," ",i.question]}),e.jsx("textarea",{value:t.bedtimeTexts[i.question]??"",onChange:r=>o({type:"SET_BEDTIME_TEXT",key:i.question,text:r.target.value}),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:N})]},i.question))]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"ðŸ ",text:`Ø¹Ø¨Ø§Ø¯Ø© Ø§Ù„Ø£Ø³Ø±Ø© (${L}/${v.length})`}),v.map(i=>e.jsxs("div",{onClick:()=>o({type:"TOGGLE_FAMILY_CHECK",key:i.id}),style:{display:"flex",alignItems:"center",gap:9,padding:"10px 11px",borderRadius:13,marginBottom:4,background:t.familyChecks[i.id]?`${n.green}08`:"transparent",cursor:"pointer",transition:"all .25s"},children:[e.jsx(y,{done:!!t.familyChecks[i.id],onClick:r=>{r?.stopPropagation?.(),o({type:"TOGGLE_FAMILY_CHECK",key:i.id})}}),e.jsx("span",{style:{fontSize:17},children:i.icon}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("span",{style:{fontSize:13,fontWeight:600,color:t.familyChecks[i.id]?n.green:n.text,textDecoration:t.familyChecks[i.id]?"line-through":"none",transition:"color .25s"},children:i.label}),e.jsx("p",{style:{fontSize:10,color:n.muted,margin:"1px 0 0"},children:i.description})]})]},i.id))]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"ðŸ’°",text:`ØµØ¯Ù‚Ø© Ø§Ù„ÙŠÙˆÙ… â€” ${t.charityLog.length} ÙŠÙˆÙ… Ø¥Ø¬Ù…Ø§Ù„ÙŠ`}),t.todayCharityDone?e.jsxs("div",{style:{textAlign:"center",padding:"14px",borderRadius:14,background:`${n.green}0C`,border:`1px solid ${n.green}20`,animation:"fadeIn .4s"},children:[e.jsx("span",{style:{fontSize:28},children:"âœ…"}),e.jsx("p",{style:{fontSize:13,fontWeight:700,color:n.green,margin:"4px 0 0"},children:"ØªØµØ¯Ù‘Ù‚Øª Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ â€” Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ Ù„Ùƒ!"}),e.jsx("button",{onClick:()=>o({type:"SET_TODAY_CHARITY_DONE",done:!1}),style:{fontSize:10,color:n.muted,background:"transparent",border:"none",fontFamily:c,cursor:"pointer",marginTop:6,textDecoration:"underline"},children:"ØªØ¹Ø¯ÙŠÙ„"})]}):e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,justifyContent:"center"},children:V.map(i=>e.jsxs("button",{onClick:()=>o({type:"ADD_CHARITY",entry:{date:W,type:i.id}}),style:{background:n.cardAlt,border:`1px solid ${n.border}40`,borderRadius:14,padding:"10px 12px",cursor:"pointer",fontSize:12,fontFamily:c,color:n.text,display:"flex",flexDirection:"column",alignItems:"center",gap:3,transition:"all .2s",flex:"1 1 calc(33% - 6px)",minWidth:80,boxSizing:"border-box"},children:[e.jsx("span",{style:{fontSize:20},children:i.icon}),e.jsx("span",{style:{fontSize:11,fontWeight:600},children:i.label}),e.jsx("span",{style:{fontSize:9,color:n.muted},children:i.description})]},i.id))})]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"ðŸ’›",text:"Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª"}),e.jsxs("div",{onClick:()=>o({type:"SET_RELATIONSHIP_DONE",done:!t.relationshipDone}),style:{display:"flex",alignItems:"center",gap:10,padding:"12px 14px",borderRadius:14,background:t.relationshipDone?`${n.green}0C`:`${n.gold}08`,border:`1px solid ${t.relationshipDone?n.green:n.gold}20`,cursor:"pointer",transition:"all .25s"},children:[e.jsx(y,{done:t.relationshipDone,onClick:i=>{i?.stopPropagation?.(),o({type:"SET_RELATIONSHIP_DONE",done:!t.relationshipDone})}}),e.jsx("span",{style:{fontSize:20},children:k.icon}),e.jsx("span",{style:{fontSize:13,fontWeight:600,color:t.relationshipDone?n.green:n.text,textDecoration:t.relationshipDone?"line-through":"none",flex:1},children:k.text})]}),e.jsx("p",{style:{fontSize:10,color:n.muted,margin:"6px 0 0",textAlign:"center"},children:"Ø¥ØµÙ„Ø§Ø­ Ø°Ø§Øª Ø§Ù„Ø¨ÙŠÙ† Ø£ÙØ¶Ù„ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§Ù„ØµÙŠØ§Ù…"})]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"ðŸ§˜",text:`Ø¹Ù†Ø§ÙŠØªÙƒ Ø¨Ù†ÙØ³Ùƒ (${M}/${$.length})`}),e.jsx("p",{style:{fontSize:11,color:n.muted,margin:"0 0 8px"},children:"Ø±Ù…Ø¶Ø§Ù† Ù…Ø´ Ø¶ØºØ· â€” Ø§Ø¹ØªÙ†ÙŠ Ø¨Ø¬Ø³Ù…Ùƒ Ø¹Ø´Ø§Ù† ØªØ¹Ø¨Ø¯ Ø±Ø¨Ù†Ø§ Ø£Ø­Ø³Ù†"}),$.map(i=>e.jsxs("div",{onClick:()=>o({type:"TOGGLE_SELF_CARE",key:i.id}),style:{display:"flex",alignItems:"center",gap:9,padding:"9px 10px",borderRadius:12,marginBottom:4,background:t.selfCareChecks[i.id]?`${n.green}08`:"transparent",cursor:"pointer",transition:"all .25s"},children:[e.jsx(y,{done:!!t.selfCareChecks[i.id],onClick:r=>{r?.stopPropagation?.(),o({type:"TOGGLE_SELF_CARE",key:i.id})}}),e.jsx("span",{style:{fontSize:16},children:i.icon}),e.jsx("span",{style:{fontSize:12,fontWeight:600,color:t.selfCareChecks[i.id]?n.green:n.text,textDecoration:t.selfCareChecks[i.id]?"line-through":"none",flex:1},children:i.label})]},i.id)),e.jsx("p",{style:{fontSize:12,color:n.textSec,margin:"10px 0 6px"},children:"Ø·Ø§Ù‚ØªÙƒ Ø¹Ø§Ù…Ù„Ø© Ø¥ÙŠÙ‡ØŸ"}),e.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:Q.map(i=>e.jsxs("button",{onClick:()=>o({type:"SET_ENERGY_LEVEL",level:i.id}),style:{flex:"1 1 calc(25% - 6px)",minWidth:60,padding:"8px 6px",borderRadius:12,border:`2px solid ${t.energyLevel===i.id?n.accent:n.border+"30"}`,background:t.energyLevel===i.id?`${n.accent}12`:"transparent",cursor:"pointer",textAlign:"center",fontSize:10,fontFamily:c,color:t.energyLevel===i.id?n.accent:n.text,fontWeight:600,transition:"all .2s",boxSizing:"border-box"},children:[e.jsx("span",{style:{fontSize:18,display:"block"},children:i.emoji}),i.label]},i.id))})]}),I&&e.jsxs(s,{glow:!0,style:{marginTop:12,background:j?`linear-gradient(135deg, ${n.purple}10, ${n.gold}08)`:`linear-gradient(135deg, ${n.purple}12, ${n.gold}0A)`},children:[e.jsx(a,{icon:"ðŸ•Œ",text:`Ø§Ù„Ø¹Ø´Ø± Ø§Ù„Ø£ÙˆØ§Ø®Ø± â€” Ø§Ù„Ù„ÙŠÙ„Ø© ${l.day} (${O}/${R.length})`}),D&&e.jsxs("div",{style:{textAlign:"center",padding:"10px",marginBottom:10,borderRadius:14,background:`${n.gold}15`,border:`1px solid ${n.gold}30`,animation:"gentlePulse 2s infinite"},children:[e.jsx("span",{style:{fontSize:22},children:"âœ¨"}),e.jsx("p",{style:{fontSize:13,fontWeight:700,color:n.goldLight,margin:"3px 0 0"},children:"Ù„ÙŠÙ„Ø© ÙˆØªØ± â€” Ù‚Ø¯ ØªÙƒÙˆÙ† Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±!"}),e.jsx("p",{style:{fontSize:11,color:n.textSec,margin:"2px 0 0"},children:"Ø§Ø¬ØªÙ‡Ø¯ Ø§Ù„Ù„ÙŠÙ„Ø© â€” Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ø´Ù‡Ø±"})]}),R.map(i=>e.jsxs("div",{onClick:()=>o({type:"TOGGLE_LAST_TEN_CHECK",key:i.id}),style:{display:"flex",alignItems:"center",gap:9,padding:"10px 11px",borderRadius:13,marginBottom:4,background:t.lastTenChecks[i.id]?`${n.green}08`:"transparent",cursor:"pointer",transition:"all .25s"},children:[e.jsx(y,{done:!!t.lastTenChecks[i.id],onClick:r=>{r?.stopPropagation?.(),o({type:"TOGGLE_LAST_TEN_CHECK",key:i.id})}}),e.jsx("span",{style:{fontSize:17},children:i.icon}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("span",{style:{fontSize:13,fontWeight:600,color:t.lastTenChecks[i.id]?n.green:n.text,textDecoration:t.lastTenChecks[i.id]?"line-through":"none"},children:i.label}),e.jsx("p",{style:{fontSize:10,color:n.muted,margin:"1px 0 0"},children:i.description})]})]},i.id))]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"âš¡",text:"ØªØ­Ø¯ÙŠ Ø§Ù„Ù„ÙŠÙ„Ø©"}),e.jsxs("div",{style:{background:`${n.purple}10`,borderRadius:14,padding:"14px",border:`1px solid ${n.purple}1A`,textAlign:"center"},children:[e.jsx("span",{style:{fontSize:30},children:"ðŸ¤²"}),e.jsx("p",{style:{fontSize:14,fontWeight:700,color:n.purple,margin:"6px 0 3px"},children:"ØµÙ„Ù‘ÙŠ Ø±ÙƒØ¹ØªÙŠÙ† Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù„ÙŠÙ„Ø©"})]})]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx(a,{icon:"ðŸŒ¿",text:'ÙˆØ¶Ø¹ "Ø¨Ø¯ÙˆÙ† Ø¶ØºØ·"'}),e.jsx("p",{style:{fontSize:11,color:n.muted,margin:"-6px 0 0"},children:"ÙŠØ¸Ù‡Ø± Ø±Ø³Ø§Ø¦Ù„ Ù„Ø·ÙŠÙØ© Ø¨Ø¯Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ù„Ùˆ Ø­Ø³ÙŠØª Ø¨Ø¶ØºØ·"})]}),e.jsx("button",{onClick:()=>o({type:"SET_NO_PRESSURE_MODE",enabled:!t.noPressureMode}),style:{width:48,height:26,borderRadius:13,border:"none",background:t.noPressureMode?n.green:n.muted+"44",padding:3,cursor:"pointer",flexShrink:0,transition:"background .2s"},children:e.jsx("div",{style:{width:20,height:20,borderRadius:10,background:"#fff",transform:t.noPressureMode?"translateX(0)":"translateX(22px)",transition:"transform .2s"}})})]}),t.noPressureMode&&e.jsxs("div",{style:{marginTop:10,padding:"12px 14px",borderRadius:14,background:`${n.green}08`,border:`1px solid ${n.green}15`,textAlign:"center",animation:"fadeIn .4s"},children:[e.jsx("span",{style:{fontSize:20},children:C.icon}),e.jsx("p",{style:{fontSize:13,fontFamily:"Amiri",color:n.textSec,margin:"4px 0 0",lineHeight:1.8},children:C.text})]})]}),e.jsxs(s,{style:{marginTop:12},children:[e.jsx(a,{icon:"ðŸ¤",text:"Ù…Ø¤Ø´Ø± Ø§Ù„Ø«Ø¨Ø§Øª"}),e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[{label:"Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø±Ø¨",icon:"ðŸ¤",value:t.bedtimeRating||3,max:5,color:n.purple},{label:"Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ±ÙƒÙŠØ²",icon:"âœ¨",value:Math.min(5,Math.round(Object.values(t.todayChecks).filter(Boolean).length/Math.max(1,Object.keys(t.goals).filter(i=>t.goals[i]).length)*5)),max:5,color:n.accent},{label:"Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…",icon:"ðŸŒ™",value:Math.min(5,Math.round(t.streak/2)),max:5,color:n.gold}].map(i=>e.jsxs("div",{style:{flex:"1 1 calc(33% - 8px)",minWidth:90,textAlign:"center",padding:"10px 8px",borderRadius:14,background:n.cardAlt,boxSizing:"border-box"},children:[e.jsx("span",{style:{fontSize:18},children:i.icon}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:2,margin:"6px 0 4px"},children:Array.from({length:i.max},(r,E)=>e.jsx("div",{style:{width:8,height:8,borderRadius:4,background:E<i.value?i.color:`${n.muted}30`,transition:"background .3s"}},E))}),e.jsx("p",{style:{fontSize:9,color:n.muted,margin:0,fontWeight:600},children:i.label})]},i.label))})]}),e.jsx("div",{style:{textAlign:"center",marginTop:12,padding:"14px",borderRadius:18,background:`${n.green}0C`,border:`1px solid ${n.green}20`},children:e.jsx("p",{style:{fontSize:13,fontWeight:700,color:n.green,margin:"0 0 3px"},children:"ðŸ’š Ø£Ù†Øª Ø£Ù‚Ø±Ø¨ Ù„Ù„Ø¬Ù†Ø© Ù…Ù…Ø§ ØªØªØ®ÙŠÙ„"})}),!t.supportDismissed&&e.jsxs(s,{style:{marginTop:12,background:j?`linear-gradient(135deg, ${n.gold}08, ${n.accent}06)`:`linear-gradient(135deg, ${n.gold}0A, ${n.accent}08)`,border:`1px solid ${n.gold}18`,position:"relative"},children:[e.jsx("button",{onClick:()=>o({type:"SET_SUPPORT_DISMISSED",dismissed:!0}),style:{position:"absolute",top:10,left:10,width:22,height:22,borderRadius:7,border:"none",background:`${n.muted}20`,color:n.muted,fontSize:11,cursor:"pointer"},children:"âœ•"}),e.jsxs("div",{style:{textAlign:"center",padding:"4px 0"},children:[e.jsx("p",{style:{fontSize:14,fontWeight:700,color:n.goldLight,margin:"0 0 6px"},children:u.title}),e.jsx("p",{style:{fontSize:12,color:n.textSec,lineHeight:1.7,margin:"0 0 8px"},children:u.text}),e.jsx("p",{style:{fontSize:11,color:n.muted,margin:"6px 0 0",fontStyle:"italic"},children:u.note})]})]}),e.jsx("div",{style:{height:16}})]})})})}export{te as Motivation};
