import{x as P,u as q,r as u,j as t,v as Q,w as _}from"./vendor-BiHAOAa9.js";import{C as K}from"./Card-Cr1-PDy0.js";import{S as L}from"./ShareButton-054yIwBi.js";import{u as N,a as O,f as U}from"./index-DUm4aSj_.js";import{a as s}from"./adhkar-DE7oXyn_.js";const A=e=>{if(e.type==="quran")return!0;const r=e.arabic;return r.includes("Ø¢ÙŠÙØ©Ù Ø§Ù„Ù’ÙƒÙØ±Ù’Ø³ÙÙŠÙÙ‘")||r.startsWith("Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ")||r.startsWith("Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ù±Ù„Ù’ÙÙÙ„ÙÙ‚Ù")||r.startsWith("Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ù±Ù„Ù†ÙÙ‘Ø§Ø³Ù")||e.meaning?.includes("Ø³ÙˆØ±Ø©")||e.meaning?.includes("Ø¢ÙŠØ©")},d=e=>[...e].sort((r,b)=>{const y=A(r),f=A(b);return y&&!f?-1:!y&&f?1:0}),j=[{id:"morning",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­",icon:"â˜€ï¸",color:"#FDB31",data:d(s.morning)},{id:"evening",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡",icon:"ğŸŒ…",color:"#F87C13",data:d(s.evening)},{id:"afterPrayer",label:"Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©",icon:"ğŸ¤²",color:"#B8860B",data:d(s.afterPrayer)},{id:"beforeSleep",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…",icon:"ğŸŒ™",color:"#7B68EE",data:d(s.beforeSleep)},{id:"uponWaking",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸",icon:"ğŸŒ„",color:"#FF6B6B",data:d(s.uponWaking)},{id:"enteringHome",label:"Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†Ø²Ù„",icon:"ğŸ ",color:"#4ECDC4",data:d(s.enteringHome)},{id:"leavingHome",label:"Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù…Ù†Ø²Ù„",icon:"ğŸšª",color:"#95E1D3",data:d(s.leavingHome)},{id:"enteringMosque",label:"Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¬Ø¯",icon:"ğŸ•Œ",color:"#38A169",data:d(s.enteringMosque)},{id:"leavingMosque",label:"Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù…Ø³Ø¬Ø¯",icon:"ğŸ•‹",color:"#2F855A",data:d(s.leavingMosque)},{id:"beforeEating",label:"Ù‚Ø¨Ù„ Ø§Ù„Ø·Ø¹Ø§Ù…",icon:"ğŸ½ï¸",color:"#F97316",data:d(s.beforeEating)},{id:"afterEating",label:"Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø¹Ø§Ù…",icon:"âœ¨",color:"#EA580C",data:d(s.afterEating)},{id:"beforeWudu",label:"Ù‚Ø¨Ù„ Ø§Ù„ÙˆØ¶ÙˆØ¡",icon:"ğŸ’§",color:"#3B82F6",data:d(s.beforeWudu)},{id:"afterWudu",label:"Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ¶ÙˆØ¡",icon:"ğŸ’¦",color:"#2563EB",data:d(s.afterWudu)},{id:"enteringBathroom",label:"Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø®Ù„Ø§Ø¡",icon:"ğŸš»",color:"#64748B",data:d(s.enteringBathroom)},{id:"leavingBathroom",label:"Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø®Ù„Ø§Ø¡",icon:"ğŸš¾",color:"#475569",data:d(s.leavingBathroom)}];function Z(){const e=N(),r=O(),b=P(),y=q(),f=(()=>{const l=new URLSearchParams(b.search).get("tab")??(b.hash.slice(1)||"");return j.some(a=>a.id===l)?l:"morning"})(),[x,R]=u.useState(f),[S,C]=u.useState({}),[T,B]=u.useState(null),[v,E]=u.useState(!0),k=u.useRef({});u.useEffect(()=>{R(f)},[f]);const H=n=>{R(n),y.replace(`/adhkar?tab=${n}`)},o=j.find(n=>n.id===x)||j[0],F=u.useCallback((n,l,g)=>{const a=`${n}-${l}`;v&&E(!1),B(a),k.current[a]&&clearTimeout(k.current[a]),k.current[a]=setTimeout(()=>B(null),250),C(p=>{const i=p[a]||{count:0,completed:!1};if(i.completed)return p;const h=i.count+1,w=h>=g;return{...p,[a]:{count:h,completed:w}}})},[v]),D=u.useCallback((n,l)=>{const g=`${n}-${l}`;C(a=>({...a,[g]:{count:0,completed:!1}}))},[]),M=u.useCallback(()=>{C(n=>{const l={...n};return o.data.forEach((g,a)=>{const p=`${x}-${a}`;l[p]={count:0,completed:!1}}),l})},[o.data,x]),W=o.data.filter((n,l)=>{const g=`${x}-${l}`;return S[g]?.completed}).length,z=o.data.length,m=z>0?Math.round(W/z*100):0;return t.jsx(Q,{children:t.jsx(_,{fullscreen:!0,className:"ion-padding",style:{fontFamily:U,"--background":e.bg,color:e.text},children:t.jsxs("div",{className:"ion-content-inner",children:[t.jsxs("div",{style:{textAlign:"center",padding:"16px 0 8px"},children:[t.jsx("h2",{style:{fontFamily:"Amiri",fontSize:22,color:e.goldLight,margin:"0 0 4px",fontWeight:700},children:"Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©"}),t.jsx("p",{style:{color:e.muted,fontSize:12,margin:0,letterSpacing:.3},children:"Ù…Ù† Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙƒØªØ§Ø¨ ÙˆØ§Ù„Ø³Ù†Ø©"})]}),t.jsx("div",{style:{display:"flex",gap:8,overflowX:"auto",padding:"8px 0 14px",scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:j.map(n=>{const l=x===n.id,a=n.data.filter((p,i)=>{const h=`${n.id}-${i}`;return S[h]?.completed}).length===n.data.length&&n.data.length>0;return t.jsxs("div",{onClick:()=>H(n.id),style:{minWidth:80,textAlign:"center",padding:"10px 10px 8px",borderRadius:14,background:l?r?`${n.color}20`:`${n.color}15`:r?`${e.card}`:`${e.cardAlt}`,border:`1.5px solid ${l?n.color+"55":"transparent"}`,cursor:"pointer",transition:"all .25s ease",flexShrink:0,position:"relative",WebkitTapHighlightColor:"transparent"},children:[t.jsx("span",{style:{fontSize:22,display:"block"},children:n.icon}),t.jsx("p",{style:{fontSize:10,fontWeight:700,color:l?n.color:e.muted,margin:"4px 0 0",lineHeight:1.3,whiteSpace:"nowrap"},children:n.label}),a&&t.jsx("span",{style:{position:"absolute",top:-4,right:-4,width:18,height:18,borderRadius:9,background:e.green,color:"#fff",fontSize:10,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800,boxShadow:`0 2px 6px ${e.green}44`,animation:"checkIn .3s ease"},children:"âœ“"})]},n.id)})}),t.jsxs(K,{style:{padding:"12px 16px",margin:"0 0 12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{fontSize:20},children:o.icon}),t.jsx("span",{style:{fontSize:13,color:o.color,fontWeight:700},children:o.label})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[W>0&&t.jsx("button",{onClick:M,style:{background:`${e.red}15`,border:`1px solid ${e.red}25`,borderRadius:8,padding:"4px 10px",color:e.red,fontSize:10,fontWeight:600,cursor:"pointer",WebkitTapHighlightColor:"transparent"},children:"Ø¥Ø¹Ø§Ø¯Ø© â†º"}),t.jsxs("span",{style:{fontSize:12,color:m===100?e.green:o.color,fontWeight:800,background:m===100?`${e.green}15`:`${o.color}12`,padding:"3px 10px",borderRadius:10},children:[W,"/",z]})]})]}),t.jsx("div",{style:{width:"100%",height:6,background:r?`${o.color}12`:`${o.color}18`,borderRadius:3,overflow:"hidden"},children:t.jsx("div",{style:{width:`${m}%`,height:"100%",background:m===100?`linear-gradient(90deg, ${e.green}, ${e.green}CC)`:`linear-gradient(90deg, ${o.color}, ${o.color}CC)`,borderRadius:3,transition:"width .5s ease, background .3s"}})})]}),v&&t.jsx("div",{style:{textAlign:"center",padding:"6px 0 2px",animation:"fadeIn .5s ease"},children:t.jsx("span",{style:{fontSize:11,color:e.muted,background:r?`${e.gold}08`:`${e.gold}12`,padding:"4px 14px",borderRadius:10,display:"inline-block"},children:"Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ± Ù„ØªØ³Ø¨ÙŠØ­Ù‡"})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,marginTop:8},children:o.data.map((n,l)=>{const g=`${x}-${l}`,a=S[g]||{count:0,completed:!1},p=a.count,i=a.completed,h=T===g,w=Math.min(100,Math.round(p/n.repetition*100)),$=n.repetition>1,c=A(n);return t.jsxs("div",{className:"adhkar-card",onClick:()=>F(x,l,n.repetition),style:{background:i?r?`linear-gradient(135deg, ${e.green}0C, ${e.green}06)`:`linear-gradient(135deg, ${e.green}12, ${e.green}08)`:c?r?`linear-gradient(135deg, ${e.gold}08, ${o.color}08)`:`linear-gradient(135deg, ${e.gold}12, ${o.color}10)`:e.card,borderRadius:18,padding:0,border:i?`1.5px solid ${e.green}30`:c?`2px solid ${e.gold}40`:`1px solid ${e.border}30`,boxShadow:h?`0 0 20px ${o.color}25`:c?`0 3px 12px ${e.gold}15`:`0 2px 8px ${e.shadowColor}`,transition:"all .2s ease",transform:h?"scale(0.98)":"scale(1)",cursor:i?"default":"pointer",overflow:"hidden",WebkitTapHighlightColor:"transparent",userSelect:"none",position:"relative",animation:`fadeIn .4s ease ${l*.04}s both`},children:[$&&!i&&p>0&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${w}%`,height:3,background:`linear-gradient(90deg, ${o.color}88, ${o.color})`,borderRadius:"3px 0 0 0",transition:"width .4s ease"}}),i&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:3,background:e.green,borderRadius:"3px 3px 0 0"}}),t.jsxs("div",{style:{padding:"14px 16px 12px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[c&&t.jsxs("span",{style:{background:r?`${e.gold}20`:`${e.gold}25`,color:e.gold,fontSize:10,fontWeight:800,padding:"4px 8px",borderRadius:8,display:"flex",alignItems:"center",gap:4,border:`1px solid ${e.gold}40`},children:[t.jsx("span",{style:{fontSize:12},children:"ğŸ“–"}),t.jsx("span",{children:"Ù‚Ø±Ø¢Ù†"})]}),t.jsx("span",{style:{width:28,height:28,borderRadius:10,background:i?e.green:r?`${o.color}18`:`${o.color}14`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:i?13:12,fontWeight:800,color:i?"#fff":o.color,flexShrink:0,transition:"all .3s ease"},children:i?"âœ“":l+1}),$&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,background:i?`${e.green}15`:`${o.color}10`,padding:"3px 10px",borderRadius:8,transition:"all .3s"},children:[t.jsx("span",{style:{fontSize:13,fontWeight:800,color:i?e.green:o.color,fontFeatureSettings:"'tnum'",minWidth:20,textAlign:"center"},children:p}),t.jsxs("span",{style:{fontSize:11,color:e.muted,fontWeight:600},children:["/ ",n.repetition]})]}),!$&&i&&t.jsx("span",{style:{fontSize:11,color:e.green,fontWeight:700,animation:"checkIn .3s ease"},children:"ØªÙ…"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[t.jsx("div",{onClick:I=>I.stopPropagation(),children:t.jsx(L,{compact:!0,content:{title:o.label,text:n.arabic,source:n.source}})}),p>0&&t.jsx("button",{onClick:I=>{I.stopPropagation(),D(x,l)},style:{width:28,height:28,borderRadius:8,border:`1px solid ${e.muted}25`,background:r?`${e.muted}10`:`${e.muted}08`,color:e.muted,fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all .2s",WebkitTapHighlightColor:"transparent",padding:0},children:"â†º"})]})]}),t.jsxs("div",{style:{background:i?r?`${e.green}06`:`${e.green}08`:c?r?`${e.gold}10`:`${e.gold}15`:r?`${o.color}06`:`${o.color}08`,borderRadius:14,padding:c?"18px 20px":"14px 16px",marginBottom:8,transition:"all .3s",position:"relative",border:c?`1px solid ${e.gold}25`:"none"},children:[c&&t.jsx("div",{style:{position:"absolute",top:8,right:12,fontSize:24,opacity:.15},children:"ï´¿"}),c&&t.jsx("div",{style:{position:"absolute",bottom:8,left:12,fontSize:24,opacity:.15},children:"ï´¾"}),t.jsx("p",{style:{fontFamily:"Amiri",fontSize:c?21:19,color:i?`${e.text}99`:e.text,lineHeight:c?2.2:2,margin:0,textAlign:"center",transition:"color .3s",fontWeight:c?600:400},children:n.arabic})]}),n.transliteration&&t.jsx("p",{style:{fontSize:11,color:i?`${e.textSec}80`:e.textSec,margin:"0 0 6px",lineHeight:1.6,fontStyle:"italic",textAlign:"center",padding:"0 4px",transition:"color .3s"},children:n.transliteration}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:8,paddingTop:8,borderTop:`1px solid ${i?`${e.green}15`:`${e.border}18`}`},children:[t.jsx("span",{style:{fontSize:10,color:e.muted,background:r?`${e.gold}08`:`${e.gold}12`,padding:"3px 10px",borderRadius:8},children:n.source}),!i&&t.jsx("span",{style:{fontSize:10,color:`${o.color}88`,fontWeight:600},children:$?"Ø§Ø¶ØºØ· Ù„Ù„ØªØ³Ø¨ÙŠØ­":"Ø§Ø¶ØºØ· Ù„Ù„ØªØ­Ù‚Ù‚"})]}),i&&t.jsxs("div",{style:{marginTop:10,padding:"8px 12px",background:r?`${e.green}0C`:`${e.green}12`,borderRadius:12,textAlign:"center",animation:"fadeIn .4s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[t.jsx("span",{style:{fontSize:14},children:"âœ”"}),t.jsx("span",{style:{fontSize:12,color:e.green,fontWeight:700},children:"Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ"})]})]})]},l)})}),m===100&&t.jsxs("div",{style:{marginTop:16,textAlign:"center",padding:"20px 16px",borderRadius:20,background:r?`linear-gradient(135deg,${o.color}10,${e.green}0A)`:`linear-gradient(135deg,${o.color}18,${e.green}12)`,border:`1.5px solid ${e.green}25`,animation:"fadeInScale .5s ease"},children:[t.jsx("div",{style:{fontSize:40,marginBottom:4},children:"ğŸ‰"}),t.jsxs("p",{style:{fontSize:16,fontWeight:800,color:o.color,margin:"0 0 4px",fontFamily:"Amiri"},children:["Ø£Ø­Ø³Ù†Øª! Ø£ÙƒÙ…Ù„Øª ",o.label]}),t.jsx("p",{style:{fontSize:12,color:e.green,margin:0,fontWeight:600},children:"ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†Ùƒ"})]}),t.jsx("div",{style:{height:20}})]})})})}export{Z as Adhkar};
