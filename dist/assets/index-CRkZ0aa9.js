const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Setup-B_qdwzvp.js","assets/vendor-D5DBOG1K.js","assets/vendor-CrQdIJTW.css","assets/Sec-B60oZY-d.js","assets/Btn-BsFAItBq.js","assets/ramadan-Crhlw5rW.js","assets/Home-BAacIUBH.js","assets/DynMoon-DNT2uJTf.js","assets/Ring-C7XEKSwg.js","assets/Chk-CrZtq1Fs.js","assets/data-BLwDYrL1.js","assets/api-Cilv0t-m.js","assets/Subha-D8McjHe2.js","assets/Notes-Dd4tY-W0.js","assets/Motivation-Kafy27BJ.js","assets/Weekly-D3rYPeoj.js","assets/Salah-DCBSMly9.js"])))=>i.map(i=>d[i]);
import{r as u,j as n,I as B,_ as S,a as H,u as $,b as G,c as q,d as Y,R as g,e as v,f as U,g as m,h as b,i as V,k as x,t as W,l as K,m as Z,n as J,o as Q,s as X,p as ee,q as te,v as ae,w as ne}from"./vendor-D5DBOG1K.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();const _={dark:{bg:"#080E1F",bgDeep:"#040812",card:"#111936",cardAlt:"#172049",gold:"#D4A84B",goldLight:"#F5D88E",green:"#3DDC84",orange:"#F59E42",red:"#E85D5D",white:"#F3EDE0",muted:"#7E87AA",accent:"#6C7AE0",purple:"#A855F7",text:"#F3EDE0",textSec:"#B8BDDA",border:"#222850",phoneBg:"#080E1F",statusBg:"#000",navBg:"#080E1FF2",starColor:"#F5D88E",inputBg:"#172049",shadowColor:"#00000088",checkBg:"transparent",bb:e=>`${e}15`,cg:e=>`0 4px 32px ${e}12`,gc:"linear-gradient(135deg,#111936,#172049)"},light:{bg:"#F7F3EC",bgDeep:"#EDE8DF",card:"#FFFFFF",cardAlt:"#F0EBE2",gold:"#B8892A",goldLight:"#8B6914",green:"#1B9E55",orange:"#D4841A",red:"#C94444",white:"#1A1A2E",muted:"#8C8478",accent:"#4F5EC0",purple:"#7C3AED",text:"#1A1A2E",textSec:"#5A5347",border:"#D6CEBD",phoneBg:"#F7F3EC",statusBg:"#E8E2D8",navBg:"#F7F3ECF5",starColor:"#D4A84B44",inputBg:"#F0EBE2",shadowColor:"#00000018",checkBg:"#F0EBE2",bb:e=>`${e}18`,cg:e=>`0 4px 24px ${e}15`,gc:"linear-gradient(135deg,#FFFFFF,#F8F4ED)"}},Ie="'Noto Sans Arabic','Tajawal',sans-serif",D=u.createContext(null),R="yomy-ramadan-theme";function oe(){return typeof window>"u"?!0:window.matchMedia?.("(prefers-color-scheme: dark)").matches??!0}function re(){if(typeof localStorage>"u")return"dark";try{const e=localStorage.getItem(R);if(e==="dark"||e==="light"||e==="system")return e;if(e==="true")return"dark";if(e==="false")return"light"}catch{}return"dark"}function se(e){try{typeof localStorage<"u"&&localStorage.setItem(R,e)}catch{}}function ie({children:e}){const[t,a]=u.useState(re),[o,i]=u.useState(oe);u.useEffect(()=>{if(typeof window>"u")return;const l=window.matchMedia("(prefers-color-scheme: dark)"),f=y=>i(y.matches);return l.addEventListener("change",f),()=>l.removeEventListener("change",f)},[]);const s=t==="dark"||t==="system"&&o,d=s?_.dark:_.light,c=u.useCallback(l=>{a(l),se(l)},[]),h=u.useCallback(()=>{c(s?"light":"dark")},[s,c]),r=u.useMemo(()=>({theme:d,isDark:s,mode:t,setMode:c,toggleTheme:h}),[d,s,t,c,h]);return n.jsx(D.Provider,{value:r,children:e})}function j(){const e=u.useContext(D);return e?e.theme:_.dark}function F(){return u.useContext(D)?.isDark??!0}function le(){const e=u.useContext(D);return[e?.mode??"dark",e?.setMode??(()=>{})]}function k({x:e,y:t,s:a=2,d:o=0}){const i=j();return n.jsx("div",{style:{position:"absolute",left:e,top:t,width:a,height:a,borderRadius:"50%",background:i.starColor,animation:`tw 3s ${o}s ease-in-out infinite alternate`,pointerEvents:"none"}})}function E(){return n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60vh",background:"var(--ion-background-color, #080E1F)"},children:n.jsx(B,{name:"crescent"})})}const I="yomy-ramadan-state";function A(){return{dailyPages:20,readingTimes:[{label:"Ø¨Ø¹Ø¯ Ø§Ù„ÙØ¬Ø±",icon:"ğŸŒ…"},{label:"Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØºØ±Ø¨",icon:"ğŸŒ†"}],goals:{azkarMorning:!0,azkarEvening:!0,qiyam:!0,sadaqa:!1,podcast:!0,dua:!0,tafsir:!1,subha:!0},todaySlots:[],todayChecks:{},totalPagesEver:0,streak:0,bestStreak:0,level:1,podcasts:[{title:"Ø±Ù…Ø¶Ø§Ù† ÙØ±ØµØ© Ù„Ø§ ØªØ¹ÙˆØ¶",note:"Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø¹Ø¯ÙˆØ¯Ø© ÙˆÙƒÙ„ ÙŠÙˆÙ… ÙÙŠ Ø±Ù…Ø¶Ø§Ù† ÙƒÙ†Ø²",day:"Ø±Ù…Ø¶Ø§Ù†"},{title:"ÙØªÙˆØ± Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",note:"Ø¥Ø­Ø³Ø§Ø³ Ø¥Ù† Ø§Ù„Ø­Ù…Ø§Ø³ Ø¨ÙŠÙ‚Ù„ Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ Ø£ÙŠØ§Ù…",day:"Ø±Ù…Ø¶Ø§Ù†"},{title:"Ø§Ù„Ø¥Ø®Ù„Ø§Øµ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†",note:"ØªØµØ­ÙŠØ­ Ø§Ù„Ù†ÙŠØ© Ù…Ø´ Ø¨Ø³ ÙƒØ«Ø±Ø© Ø§Ù„Ø¹Ù…Ù„",day:"Ø±Ù…Ø¶Ø§Ù†"},{title:"Ù‡Ù„ Ù‚ÙØ¨Ù„ ØµÙŠØ§Ù…ÙŠØŸ",note:"Ø­Ù„Ù‚Ø© Ù…Ø¤Ø«Ø±Ø© Ø¹Ù† Ø§Ù„Ø®ÙˆÙ Ø§Ù„Ù…Ø­Ù…ÙˆØ¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø§Ø¹Ø©",day:"Ø±Ù…Ø¶Ø§Ù†"},{title:"Ø­ØªÙ‰ Ù„Ø§ ÙŠÙ†ØªÙ‡ÙŠ Ø±Ù…Ø¶Ø§Ù†",note:"Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ÙƒØ±ÙŠÙ…",day:"Ø±Ù…Ø¶Ø§Ù†"}],duas:[{text:"Ø§Ù„Ù„Ù‡Ù… Ø§Ø¹ØªÙ‚ Ø±Ù‚Ø§Ø¨Ù†Ø§ Ù…Ù† Ø§Ù„Ù†Ø§Ø±",day:"Ù¡Ù¤ Ø±Ù…Ø¶Ø§Ù†"}],subha:{subhanallah:0,alhamdulillah:0,allahuakbar:0,istighfar:0,hawqala:0,salawat:0,tahlil:0,basmala:0},setupDone:!1,duaNotificationTime:null,remindersEnabled:!0,lastSeenDate:"",dailyHistory:{},nawafelChecks:{},selectedAzan:"makkah",azanEnabled:!1,prayerCity:"Cairo",prayerCountry:"Egypt",prayerMethod:5}}function p(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ce(){if(typeof localStorage>"u")return null;try{const e=localStorage.getItem(I);if(!e)return null;const t=JSON.parse(e);if(!p(t))return null;const a=A(),o=typeof t.dailyPages=="number"?t.dailyPages:a.dailyPages,i=Array.isArray(t.readingTimes)?t.readingTimes.filter(r=>p(r)&&typeof r.label=="string"&&typeof r.icon=="string").map(r=>({label:r.label,icon:r.icon})):a.readingTimes,s=Array.isArray(t.todaySlots)?t.todaySlots.filter(r=>p(r)&&typeof r.label=="string"&&typeof r.icon=="string"&&typeof r.done=="boolean"&&typeof r.pages=="number").map(r=>({label:r.label,icon:r.icon,done:r.done,pages:r.pages})):[],d=Math.max(1,i.length),c=Math.ceil(o/d),h=i.map(r=>{const l=s.find(f=>f.label===r.label&&f.icon===r.icon);return{...r,done:l?.done??!1,pages:l?.pages??c}});return{dailyPages:o,readingTimes:i,goals:(()=>{if(!p(t.goals))return a.goals;const r={...a.goals};for(const l of Object.keys(t.goals))l in a.goals&&typeof t.goals[l]=="boolean"&&(r[l]=t.goals[l]);return r})(),todaySlots:h,todayChecks:(()=>{if(!p(t.todayChecks))return a.todayChecks;const r={};for(const l of Object.keys(t.todayChecks))typeof t.todayChecks[l]=="boolean"&&(r[l]=t.todayChecks[l]);return r})(),totalPagesEver:typeof t.totalPagesEver=="number"?t.totalPagesEver:a.totalPagesEver,streak:typeof t.streak=="number"?t.streak:a.streak,bestStreak:typeof t.bestStreak=="number"?t.bestStreak:a.bestStreak,level:typeof t.level=="number"?t.level:a.level,podcasts:Array.isArray(t.podcasts)?t.podcasts.filter(r=>p(r)&&typeof r.title=="string"&&typeof r.day=="string").map(r=>({title:r.title,note:typeof r.note=="string"?r.note:void 0,day:r.day})):a.podcasts,duas:Array.isArray(t.duas)?t.duas.filter(r=>p(r)&&typeof r.text=="string"&&typeof r.day=="string").map(r=>({text:r.text,day:r.day})):a.duas,subha:p(t.subha)?{...a.subha,...t.subha}:a.subha,setupDone:typeof t.setupDone=="boolean"?t.setupDone:a.setupDone,duaNotificationTime:t.duaNotificationTime===null||typeof t.duaNotificationTime=="string"&&/^\d{1,2}:\d{2}$/.test(t.duaNotificationTime)?t.duaNotificationTime:a.duaNotificationTime,remindersEnabled:typeof t.remindersEnabled=="boolean"?t.remindersEnabled:a.remindersEnabled,lastSeenDate:typeof t.lastSeenDate=="string"?t.lastSeenDate:a.lastSeenDate,dailyHistory:(()=>{if(!p(t.dailyHistory))return a.dailyHistory;const r={};for(const l of Object.keys(t.dailyHistory)){const f=t.dailyHistory[l];p(f)&&typeof f.pct=="number"&&typeof f.quran=="boolean"&&typeof f.azkar=="boolean"&&typeof f.subha=="boolean"&&typeof f.qiyam=="boolean"&&typeof f.pagesRead=="number"&&(r[l]=f)}return r})(),nawafelChecks:(()=>{if(!p(t.nawafelChecks))return a.nawafelChecks;const r={};for(const l of Object.keys(t.nawafelChecks))typeof t.nawafelChecks[l]=="boolean"&&(r[l]=t.nawafelChecks[l]);return r})(),selectedAzan:typeof t.selectedAzan=="string"?t.selectedAzan:a.selectedAzan,azanEnabled:typeof t.azanEnabled=="boolean"?t.azanEnabled:a.azanEnabled,prayerCity:typeof t.prayerCity=="string"?t.prayerCity:a.prayerCity,prayerCountry:typeof t.prayerCountry=="string"?t.prayerCountry:a.prayerCountry,prayerMethod:typeof t.prayerMethod=="number"?t.prayerMethod:a.prayerMethod}}catch{return null}}function de(e){if(!(typeof localStorage>"u"))try{localStorage.setItem(I,JSON.stringify(e))}catch{}}function ue(){return ce()??A()}function fe(e){const a=(e.todaySlots.length===e.readingTimes.length?e.todaySlots:e.readingTimes.map((l,f)=>{const y=e.todaySlots[f],C=y&&y.label===l.label&&y.icon===l.icon?y:null,z=Math.ceil(e.dailyPages/Math.max(1,e.readingTimes.length));return{...l,done:C?.done??!1,pages:C?.pages??z}})).reduce((l,f)=>l+(f.done?f.pages:0),0),o=Math.min(100,Math.round(a/e.dailyPages*100)),i=Object.entries(e.goals).filter(([,l])=>l).map(([l])=>l),s=i.filter(l=>l==="subha"?Object.values(e.subha).reduce((f,y)=>f+y,0)>0:!!e.todayChecks[l]).length,d=i.length>0?Math.round(s/i.length*100):0,c=i.length>0?Math.round((o+d)/2):o,h=!!(e.todayChecks.azkarMorning||e.todayChecks.azkarEvening),r=Object.values(e.subha).reduce((l,f)=>l+f,0)>0;return{pct:c,quran:a>=e.dailyPages,azkar:h,subha:r,qiyam:!!e.todayChecks.qiyam,pagesRead:a}}function he(e,t){switch(t.type){case"SET_PAGES":return{...e,dailyPages:t.v};case"ADD_TIME":{const a=[...e.readingTimes,t.t],o=Math.ceil(e.dailyPages/Math.max(1,a.length)),i=a.map((s,d)=>{const c=e.todaySlots[d],h=c&&c.label===s.label&&c.icon===s.icon?c.done:!1;return{...s,done:h,pages:o}});return{...e,readingTimes:a,todaySlots:i}}case"RM_TIME":{const a=e.readingTimes.filter((s,d)=>d!==t.i),o=Math.ceil(e.dailyPages/Math.max(1,a.length)),i=a.map(s=>{const d=e.todaySlots.find(c=>c.label===s.label&&c.icon===s.icon);return{...s,done:d?.done??!1,pages:d?.pages??o}});return{...e,readingTimes:a,todaySlots:i}}case"TOGGLE_GOAL":return{...e,goals:{...e.goals,[t.key]:!e.goals[t.key]}};case"FINISH_SETUP":{const a=Math.ceil(e.dailyPages/Math.max(1,e.readingTimes.length));return{...e,setupDone:!0,todaySlots:e.readingTimes.map(o=>({...o,done:!1,pages:a}))}}case"TOGGLE_SLOT":{const a=e.todaySlots.length===e.readingTimes.length?[...e.todaySlots]:e.readingTimes.map((s,d)=>{const c=e.todaySlots[d],h=c&&c.label===s.label&&c.icon===s.icon?c:null,r=Math.ceil(e.dailyPages/Math.max(1,e.readingTimes.length));return{...s,done:h?.done??!1,pages:h?.pages??r}}),o=a[t.i];if(!o)return e;const i=[...a];return i[t.i]={...o,done:!o.done},i[t.i].done?i[t.i].pages=Math.ceil(e.dailyPages/i.length):i[t.i].pages=0,{...e,todaySlots:i}}case"TOGGLE_CHECK":return{...e,todayChecks:{...e.todayChecks,[t.key]:!e.todayChecks[t.key]}};case"ADD_PODCAST":return{...e,podcasts:[t.p,...e.podcasts]};case"RM_PODCAST":return{...e,podcasts:e.podcasts.filter((a,o)=>o!==t.i)};case"ADD_DUA":return{...e,duas:[t.d,...e.duas]};case"RM_DUA":return{...e,duas:e.duas.filter((a,o)=>o!==t.i)};case"SUBHA_INC":return{...e,subha:{...e.subha,[t.id]:(e.subha[t.id]||0)+1}};case"SUBHA_RESET":return{...e,subha:{...e.subha,[t.id]:0}};case"SUBHA_RESET_ALL":return{...e,subha:Object.fromEntries(Object.keys(e.subha).map(a=>[a,0]))};case"SET_DUA_NOTIFICATION_TIME":return{...e,duaNotificationTime:t.time};case"SET_REMINDERS_ENABLED":return{...e,remindersEnabled:t.enabled};case"ARCHIVE_AND_ROLLOVER":{const a=Math.ceil(e.dailyPages/Math.max(1,e.readingTimes.length)),o=e.readingTimes.map(c=>({...c,done:!1,pages:a})),i=e.bestStreak,d=(()=>{const[c,h,r]=t.newDate.split("-").map(Number),l=new Date(c,h-1,r);return l.setDate(l.getDate()-1),l.getFullYear()+"-"+String(l.getMonth()+1).padStart(2,"0")+"-"+String(l.getDate()).padStart(2,"0")===t.archivedDate})()&&t.snapshot.pct>=100?e.streak+1:0;return{...e,dailyHistory:{...e.dailyHistory,[t.archivedDate]:t.snapshot},lastSeenDate:t.newDate,todaySlots:o,todayChecks:{},subha:Object.fromEntries(Object.keys(e.subha).map(c=>[c,0])),totalPagesEver:e.totalPagesEver+t.snapshot.pagesRead,streak:d,bestStreak:Math.max(i,d),nawafelChecks:{}}}case"SET_LAST_SEEN_DATE":return{...e,lastSeenDate:t.date};case"CLEAR_DAILY_HISTORY":return{...e,dailyHistory:{}};case"RESET_QURAN_PROGRESS":return{...e,totalPagesEver:0};case"RESET_TODAY_READING":{const a=e.todaySlots.length===e.readingTimes.length?e.todaySlots:e.readingTimes.map((o,i)=>{const s=e.todaySlots[i],d=s&&s.label===o.label&&s.icon===o.icon?s:null,c=Math.ceil(e.dailyPages/Math.max(1,e.readingTimes.length));return{...o,done:d?.done??!1,pages:d?.pages??c}});return{...e,todaySlots:a.map(o=>({...o,done:!1,pages:0}))}}case"TOGGLE_NAFILA":return{...e,nawafelChecks:{...e.nawafelChecks,[t.key]:!e.nawafelChecks[t.key]}};case"SET_SELECTED_AZAN":return{...e,selectedAzan:t.id};case"SET_AZAN_ENABLED":return{...e,azanEnabled:t.enabled};case"SET_PRAYER_LOCATION":return{...e,prayerCity:t.city,prayerCountry:t.country};case"SET_PRAYER_METHOD":return{...e,prayerMethod:t.method};case"RESET_APP":return A();default:return e}}const pe=["ØªØ¹Ø§Ù„Ù‰ Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§ÙƒÙ…Ù„ Ù…Ù‡Ø§Ù…Ùƒ ğŸŒ™","Ø§Ø³ØªÙ…Ø±ØŒ Ø£Ù†Øª Ù‚Ø¯Ù‡Ø§! ÙƒÙ…Ù„ Ø´ÙˆÙŠØ© ÙˆØ®Ù„Øµ","Ø±ÙˆØ­ Ø§ÙØªØ­ ÙŠÙˆÙ…ÙŠ ÙˆØ´Ø§Ù Ø¨Ù‚Ù‰ Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ Ø¨Ø§Ù‚ÙŠ","Ù…ØªÙ†Ø³Ø§Ø´ ØªØ²ÙˆØ±Ù†Ø§ ÙˆØªÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØªØ± ğŸ¤²","Ø´ÙˆÙ ØªÙ‚Ø±ÙŠØ±Ùƒ Ø§Ù„ÙŠÙˆÙ… ÙˆØ¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ Ø¹Ù…Ù„ØªÙ‡","ØªØ¹Ø§Ù„Ù‰ Ù†ÙƒÙ…Ù„ Ø¨Ø¹Ø¶ â€” Ø§ÙØªØ­ ÙŠÙˆÙ…ÙŠ","Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§ÙƒÙ…Ù„ Ø´ØºÙ„Ùƒ","ØªØ°ÙƒÙŠØ±: Ø¹Ù†Ø¯Ùƒ Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ… Ù…ØªÙ†Ø³Ù‡Ø§Ø´","Ø§Ø³ØªÙ†Ù‰ Ø¥ÙŠÙ‡ØŸ ØªØ¹Ø§Ù„Ù‰! ğŸŒ™","Ø±ÙˆØ­ ÙŠÙˆÙ…ÙŠ ÙˆØ§ÙƒÙ…Ù„ Ø§Ù„Ù„ÙŠ Ø¹Ù„ÙŠÙƒ","ÙˆÙ‚ØªÙƒ ØºØ§Ù„ÙŠ â€” Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§ÙƒÙ…Ù„","Ø®Ù„Øµ Ù…Ù‡Ø§Ù…Ùƒ ÙˆØ§Ø±ØªØ§Ø­ Ø¨Ø§Ù„Ùƒ","ÙƒÙ„ Ø´ÙˆÙŠØ© ÙˆØ§Ù†Øª ÙØ§ØªØ­ Ù†ÙƒÙ…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶","Ø§ÙØªÙƒØ± Ù‡Ø¯ÙÙƒ ÙˆØ§ÙØªØ­ ÙŠÙˆÙ…ÙŠ","Ù…ØªØ¨Ù‚Ø§Ø´ ÙƒØªÙŠØ± â€” ØªØ¹Ø§Ù„Ù‰ ÙƒÙ…Ù„"],ge="yomy-dua",ye="yomy-reminder";let T=[];function me(){T.forEach(e=>clearTimeout(e)),T=[]}async function be(){return typeof window>"u"||!("Notification"in window)?!1:Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted"}function M(e,t){const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate(),e,t,0,0);return o.getTime()<=a.getTime()&&o.setDate(o.getDate()+1),o}function xe(e){const t=e.trim().match(/^(\d{1,2}):(\d{2})$/);if(!t)return null;const a=parseInt(t[1],10),o=parseInt(t[2],10);return a<0||a>23||o<0||o>59?null:{hour:a,minute:o}}function P(e){if(e.length!==0)return e[Math.floor(Math.random()*e.length)]}function N(e,t,a){if(!(typeof window>"u"||!("Notification"in window)||Notification.permission!=="granted"))try{new Notification(e,{body:t,tag:a??"yomy",icon:"/favicon.ico"})}catch{}}function O(e,t,a){if(e.length===0)return;const i=M(t,a).getTime()-Date.now();if(i<=0)return;const s=setTimeout(()=>{const d=P(e);d&&N("ğŸ¤² Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù‚Ø¨Ù„ Ø§Ù„Ù…ØºØ±Ø¨",d.text.length>120?d.text.slice(0,117)+"...":d.text,ge),O(e,t,a)},i);T.push(s)}const Ee=[9,14,20];function L(){const e=Date.now();let t=null;for(const i of Ee){const s=M(i,0);s.getTime()>e&&(t==null||s.getTime()<t.getTime())&&(t=s)}if(!t)return;const a=t.getTime()-e;if(a<=0)return;const o=setTimeout(()=>{const i=P(pe);i&&N("ÙŠÙˆÙ…ÙŠ ğŸŒ™",i,ye),L()},a);T.push(o)}async function Se(e,t,a){if(me(),!await be())return;const i=t?xe(t):null;i&&e.length>0&&O(e,i.hour,i.minute),a&&L()}const ke=u.lazy(()=>S(()=>import("./Setup-B_qdwzvp.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.Setup}))),Te=u.lazy(()=>S(()=>import("./Home-BAacIUBH.js"),__vite__mapDeps([6,1,2,7,5,3,8,9,10,11])).then(e=>({default:e.Home}))),De=u.lazy(()=>S(()=>import("./Subha-D8McjHe2.js"),__vite__mapDeps([12,1,2,3,8,11])).then(e=>({default:e.Subha}))),_e=u.lazy(()=>S(()=>import("./Notes-Dd4tY-W0.js"),__vite__mapDeps([13,1,2,3,4,5])).then(e=>({default:e.Notes}))),je=u.lazy(()=>S(()=>import("./Motivation-Kafy27BJ.js"),__vite__mapDeps([14,1,2,7,5,3,10])).then(e=>({default:e.Motivation}))),Ae=u.lazy(()=>S(()=>import("./Weekly-D3rYPeoj.js"),__vite__mapDeps([15,1,2,3,8,5])).then(e=>({default:e.Weekly}))),Ce=u.lazy(()=>S(()=>import("./Salah-DCBSMly9.js"),__vite__mapDeps([16,1,2,3,9,10,11])).then(e=>({default:e.Salah}))),w=[{mode:"light",icon:"â˜€ï¸",label:"ÙØ§ØªØ­"},{mode:"system",icon:"ğŸ“±",label:"ØªÙ„Ù‚Ø§Ø¦ÙŠ"},{mode:"dark",icon:"ğŸŒ™",label:"Ø¯Ø§ÙƒÙ†"}];function ve(){const e=j(),t=F(),[a,o]=le(),[i,s]=u.useState(!1),d=w.findIndex(c=>c.mode===a);return n.jsxs("div",{style:{position:"fixed",top:"max(12px, env(safe-area-inset-top))",left:"max(12px, env(safe-area-inset-left))",zIndex:99999,direction:"ltr"},children:[!i&&n.jsx("button",{onClick:()=>s(!0),"aria-label":"Theme",style:{width:42,height:42,borderRadius:14,border:`1.5px solid ${e.border}60`,background:t?"linear-gradient(135deg, #172049, #111936)":"linear-gradient(135deg, #FFFFFF, #F0EBE2)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,transition:"all .35s cubic-bezier(.4,0,.2,1)",transform:"translateZ(0)",pointerEvents:"auto",boxShadow:t?"0 4px 20px rgba(0,0,0,.4), inset 0 1px 0 rgba(255,255,255,.06)":"0 4px 20px rgba(0,0,0,.08), inset 0 1px 0 rgba(255,255,255,.8)",backdropFilter:"blur(12px)"},children:a==="dark"?"ğŸŒ™":a==="light"?"â˜€ï¸":"ğŸ“±"}),i&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,borderRadius:18,padding:4,background:t?"linear-gradient(135deg, #111936ee, #172049ee)":"linear-gradient(135deg, #FFFFFFee, #F0EBE2ee)",border:`1.5px solid ${e.border}60`,boxShadow:t?"0 8px 32px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.06)":"0 8px 32px rgba(0,0,0,.1), inset 0 1px 0 rgba(255,255,255,.8)",backdropFilter:"blur(16px)",position:"relative",animation:"themeSwitcherIn .25s cubic-bezier(.4,0,.2,1)",pointerEvents:"auto"},children:[n.jsx("div",{style:{position:"absolute",top:4,left:4+d*48,width:46,height:36,borderRadius:14,background:t?`linear-gradient(135deg, ${e.gold}30, ${e.accent}20)`:`linear-gradient(135deg, ${e.gold}25, ${e.accent}15)`,border:`1px solid ${e.gold}30`,transition:"left .3s cubic-bezier(.4,0,.2,1)",zIndex:0}}),w.map(c=>n.jsx("button",{onClick:()=>{o(c.mode),setTimeout(()=>s(!1),350)},"aria-label":c.label,title:c.label,style:{width:46,height:36,borderRadius:14,border:"none",background:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,transition:"transform .2s",transform:c.mode===a?"scale(1.1)":"scale(1)",position:"relative",zIndex:1,padding:0},children:c.icon},c.mode)),n.jsx("button",{onClick:()=>s(!1),"aria-label":"Close",style:{width:32,height:32,borderRadius:10,border:"none",background:`${e.muted}15`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,color:e.muted,marginRight:2,marginLeft:4,transition:"background .2s",padding:0},children:"âœ•"})]})]})}function we(){const e=$(),[t,a]=u.useState(ue),o=u.useCallback(h=>a(r=>he(r,h)),[]);u.useEffect(()=>{de(t)},[t]),u.useEffect(()=>{const h=new Date,r=h.getFullYear()+"-"+String(h.getMonth()+1).padStart(2,"0")+"-"+String(h.getDate()).padStart(2,"0");if(!t.lastSeenDate){o({type:"SET_LAST_SEEN_DATE",date:r});return}if(t.lastSeenDate<r){const l=fe(t);o({type:"ARCHIVE_AND_ROLLOVER",archivedDate:t.lastSeenDate,snapshot:l,newDate:r})}},[t.lastSeenDate,o]),u.useEffect(()=>{Se(t.duas,t.duaNotificationTime,t.remindersEnabled)},[t.duas,t.duaNotificationTime,t.remindersEnabled]);const i=F(),s=j();u.useEffect(()=>{document.body.style.backgroundColor=s.bg,document.body.style.color=s.text,document.documentElement.style.backgroundColor=s.bg,document.documentElement.style.setProperty("--ion-background-color",s.bg),document.documentElement.style.setProperty("--ion-text-color",s.text)},[s.bg,s.text]);const d=u.useCallback(()=>{o({type:"FINISH_SETUP"}),e.replace("/home")},[o,e]),c=u.useCallback(()=>{o({type:"RESET_APP"}),e.replace("/")},[o,e]);return n.jsxs(G,{style:{backgroundColor:s.bg,color:s.text,transition:"background-color .4s, color .4s"},children:[n.jsxs(q,{children:[n.jsxs(Y,{children:[n.jsx(g,{path:"/setup",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(ke,{state:t,dispatch:o,onFinish:d,onResetApp:c})})}),n.jsx(g,{path:"/home",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(Te,{state:t,dispatch:o})})}),n.jsx(g,{path:"/subha",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(De,{state:t,dispatch:o})})}),n.jsx(g,{path:"/salah",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(Ce,{state:t,dispatch:o})})}),n.jsx(g,{path:"/notes",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(_e,{state:t,dispatch:o})})}),n.jsx(g,{path:"/motivation",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(je,{state:t})})}),n.jsx(g,{path:"/weekly",render:()=>n.jsx(u.Suspense,{fallback:n.jsx(E,{}),children:n.jsx(Ae,{state:t,dispatch:o})})}),n.jsx(g,{exact:!0,path:"/",render:()=>n.jsx(v,{to:t.setupDone?"/home":"/setup"})}),n.jsx(g,{render:()=>n.jsx(v,{to:"/"})})]}),n.jsxs(U,{slot:"bottom",style:{"--background":s.navBg,"--border":`1px solid ${s.muted}12`},children:[n.jsxs(m,{tab:"home",href:"/home",children:[n.jsx(b,{icon:V}),n.jsx(x,{children:"ÙŠÙˆÙ…ÙŠ"})]}),n.jsxs(m,{tab:"salah",href:"/salah",children:[n.jsx(b,{icon:W}),n.jsx(x,{children:"ØµÙ„Ø§ØªÙŠ"})]}),n.jsxs(m,{tab:"subha",href:"/subha",children:[n.jsx(b,{icon:K}),n.jsx(x,{children:"Ø³ÙØ¨Ø­Ø©"})]}),n.jsxs(m,{tab:"notes",href:"/notes",children:[n.jsx(b,{icon:Z}),n.jsx(x,{children:"Ø¯ÙØªØ±"})]}),n.jsxs(m,{tab:"motivation",href:"/motivation",children:[n.jsx(b,{icon:J}),n.jsx(x,{children:"ØªØ­ÙÙŠØ²"})]}),n.jsxs(m,{tab:"weekly",href:"/weekly",children:[n.jsx(b,{icon:Q}),n.jsx(x,{children:"ØªÙ‚Ø±ÙŠØ±"})]}),n.jsxs(m,{tab:"setup",href:"/setup",children:[n.jsx(b,{icon:X}),n.jsx(x,{children:"Ø¥Ø¹Ø¯Ø§Ø¯"})]})]})]}),typeof document<"u"&&ee.createPortal(n.jsx(ve,{}),document.body),i&&n.jsxs(n.Fragment,{children:[n.jsx(k,{x:"9%",y:"5%",s:2,d:0}),n.jsx(k,{x:"87%",y:"9%",s:1.5,d:1}),n.jsx(k,{x:"68%",y:"3%",s:2,d:.5}),n.jsx(k,{x:"28%",y:"2%",s:1.5,d:2})]})]})}function Re(){return n.jsx(ie,{children:n.jsx(H,{children:n.jsx(we,{})})})}te({mode:"ios"});ae.createRoot(document.getElementById("root")).render(n.jsx(ne.StrictMode,{children:n.jsx(Re,{})}));export{F as a,fe as b,Ie as f,xe as p,be as r,_ as t,j as u};
