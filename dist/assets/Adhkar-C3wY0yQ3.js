import{x as F,u as D,r as p,j as t,v as M,w as P}from"./vendor-BiHAOAa9.js";import{C as q}from"./Card-BNnlyXSn.js";import{S as _}from"./ShareButton-CASqxibp.js";import{u as K,a as L,f as N}from"./index-CfeSpLzb.js";import{a}from"./adhkar-BIVD1nry.js";const f=[{id:"morning",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­",icon:"â˜€ï¸",color:"#FDB31",data:a.morning},{id:"evening",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡",icon:"ğŸŒ…",color:"#F87C13",data:a.evening},{id:"afterPrayer",label:"Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©",icon:"ğŸ¤²",color:"#B8860B",data:a.afterPrayer},{id:"beforeSleep",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…",icon:"ğŸŒ™",color:"#7B68EE",data:a.beforeSleep},{id:"uponWaking",label:"Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸",icon:"ğŸŒ„",color:"#FF6B6B",data:a.uponWaking},{id:"enteringHome",label:"Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†Ø²Ù„",icon:"ğŸ ",color:"#4ECDC4",data:a.enteringHome},{id:"leavingHome",label:"Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù…Ù†Ø²Ù„",icon:"ğŸšª",color:"#95E1D3",data:a.leavingHome},{id:"enteringMosque",label:"Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¬Ø¯",icon:"ğŸ•Œ",color:"#38A169",data:a.enteringMosque},{id:"leavingMosque",label:"Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù…Ø³Ø¬Ø¯",icon:"ğŸ•‹",color:"#2F855A",data:a.leavingMosque},{id:"beforeEating",label:"Ù‚Ø¨Ù„ Ø§Ù„Ø·Ø¹Ø§Ù…",icon:"ğŸ½ï¸",color:"#F97316",data:a.beforeEating},{id:"afterEating",label:"Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø¹Ø§Ù…",icon:"âœ¨",color:"#EA580C",data:a.afterEating},{id:"beforeWudu",label:"Ù‚Ø¨Ù„ Ø§Ù„ÙˆØ¶ÙˆØ¡",icon:"ğŸ’§",color:"#3B82F6",data:a.beforeWudu},{id:"afterWudu",label:"Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ¶ÙˆØ¡",icon:"ğŸ’¦",color:"#2563EB",data:a.afterWudu}];function Q(){const e=K(),s=L(),W=F(),I=D(),m=(()=>{const r=new URLSearchParams(W.search).get("tab")??(W.hash.slice(1)||"");return f.some(l=>l.id===r)?r:"morning"})(),[g,w]=p.useState(m),[b,y]=p.useState({}),[A,z]=p.useState(null),[$,R]=p.useState(!0),j=p.useRef({});p.useEffect(()=>{w(m)},[m]);const T=n=>{w(n),I.replace(`/adhkar?tab=${n}`)},o=f.find(n=>n.id===g)||f[0],E=p.useCallback((n,r,d)=>{const l=`${n}-${r}`;$&&R(!1),z(l),j.current[l]&&clearTimeout(j.current[l]),j.current[l]=setTimeout(()=>z(null),250),y(c=>{const i=c[l]||{count:0,completed:!1};if(i.completed)return c;const u=i.count+1,k=u>=d;return{...c,[l]:{count:u,completed:k}}})},[$]),H=p.useCallback((n,r)=>{const d=`${n}-${r}`;y(l=>({...l,[d]:{count:0,completed:!1}}))},[]),B=p.useCallback(()=>{y(n=>{const r={...n};return o.data.forEach((d,l)=>{const c=`${g}-${l}`;r[c]={count:0,completed:!1}}),r})},[o.data,g]),S=o.data.filter((n,r)=>{const d=`${g}-${r}`;return b[d]?.completed}).length,C=o.data.length,x=C>0?Math.round(S/C*100):0;return t.jsx(M,{children:t.jsx(P,{fullscreen:!0,className:"ion-padding",style:{fontFamily:N,"--background":e.bg,color:e.text},children:t.jsxs("div",{className:"ion-content-inner",children:[t.jsxs("div",{style:{textAlign:"center",padding:"16px 0 8px"},children:[t.jsx("h2",{style:{fontFamily:"Amiri",fontSize:22,color:e.goldLight,margin:"0 0 4px",fontWeight:700},children:"Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©"}),t.jsx("p",{style:{color:e.muted,fontSize:12,margin:0,letterSpacing:.3},children:"Ù…Ù† Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙƒØªØ§Ø¨ ÙˆØ§Ù„Ø³Ù†Ø©"})]}),t.jsx("div",{style:{display:"flex",gap:8,overflowX:"auto",padding:"8px 0 14px",scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:f.map(n=>{const r=g===n.id,l=n.data.filter((c,i)=>{const u=`${n.id}-${i}`;return b[u]?.completed}).length===n.data.length&&n.data.length>0;return t.jsxs("div",{onClick:()=>T(n.id),style:{minWidth:80,textAlign:"center",padding:"10px 10px 8px",borderRadius:14,background:r?s?`${n.color}20`:`${n.color}15`:s?`${e.card}`:`${e.cardAlt}`,border:`1.5px solid ${r?n.color+"55":"transparent"}`,cursor:"pointer",transition:"all .25s ease",flexShrink:0,position:"relative",WebkitTapHighlightColor:"transparent"},children:[t.jsx("span",{style:{fontSize:22,display:"block"},children:n.icon}),t.jsx("p",{style:{fontSize:10,fontWeight:700,color:r?n.color:e.muted,margin:"4px 0 0",lineHeight:1.3,whiteSpace:"nowrap"},children:n.label}),l&&t.jsx("span",{style:{position:"absolute",top:-4,right:-4,width:18,height:18,borderRadius:9,background:e.green,color:"#fff",fontSize:10,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800,boxShadow:`0 2px 6px ${e.green}44`,animation:"checkIn .3s ease"},children:"âœ“"})]},n.id)})}),t.jsxs(q,{style:{padding:"12px 16px",margin:"0 0 12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{fontSize:20},children:o.icon}),t.jsx("span",{style:{fontSize:13,color:o.color,fontWeight:700},children:o.label})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[S>0&&t.jsx("button",{onClick:B,style:{background:`${e.red}15`,border:`1px solid ${e.red}25`,borderRadius:8,padding:"4px 10px",color:e.red,fontSize:10,fontWeight:600,cursor:"pointer",WebkitTapHighlightColor:"transparent"},children:"Ø¥Ø¹Ø§Ø¯Ø© â†º"}),t.jsxs("span",{style:{fontSize:12,color:x===100?e.green:o.color,fontWeight:800,background:x===100?`${e.green}15`:`${o.color}12`,padding:"3px 10px",borderRadius:10},children:[S,"/",C]})]})]}),t.jsx("div",{style:{width:"100%",height:6,background:s?`${o.color}12`:`${o.color}18`,borderRadius:3,overflow:"hidden"},children:t.jsx("div",{style:{width:`${x}%`,height:"100%",background:x===100?`linear-gradient(90deg, ${e.green}, ${e.green}CC)`:`linear-gradient(90deg, ${o.color}, ${o.color}CC)`,borderRadius:3,transition:"width .5s ease, background .3s"}})})]}),$&&t.jsx("div",{style:{textAlign:"center",padding:"6px 0 2px",animation:"fadeIn .5s ease"},children:t.jsx("span",{style:{fontSize:11,color:e.muted,background:s?`${e.gold}08`:`${e.gold}12`,padding:"4px 14px",borderRadius:10,display:"inline-block"},children:"Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ± Ù„ØªØ³Ø¨ÙŠØ­Ù‡"})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,marginTop:8},children:o.data.map((n,r)=>{const d=`${g}-${r}`,l=b[d]||{count:0,completed:!1},c=l.count,i=l.completed,u=A===d,k=Math.min(100,Math.round(c/n.repetition*100)),h=n.repetition>1;return t.jsxs("div",{className:"adhkar-card",onClick:()=>E(g,r,n.repetition),style:{background:i?s?`linear-gradient(135deg, ${e.green}0C, ${e.green}06)`:`linear-gradient(135deg, ${e.green}12, ${e.green}08)`:e.card,borderRadius:18,padding:0,border:i?`1.5px solid ${e.green}30`:`1px solid ${e.border}30`,boxShadow:u?`0 0 20px ${o.color}25`:`0 2px 8px ${e.shadowColor}`,transition:"all .2s ease",transform:u?"scale(0.98)":"scale(1)",cursor:i?"default":"pointer",overflow:"hidden",WebkitTapHighlightColor:"transparent",userSelect:"none",position:"relative",animation:`fadeIn .4s ease ${r*.04}s both`},children:[h&&!i&&c>0&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${k}%`,height:3,background:`linear-gradient(90deg, ${o.color}88, ${o.color})`,borderRadius:"3px 0 0 0",transition:"width .4s ease"}}),i&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:3,background:e.green,borderRadius:"3px 3px 0 0"}}),t.jsxs("div",{style:{padding:"14px 16px 12px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{width:28,height:28,borderRadius:10,background:i?e.green:s?`${o.color}18`:`${o.color}14`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:i?13:12,fontWeight:800,color:i?"#fff":o.color,flexShrink:0,transition:"all .3s ease"},children:i?"âœ“":r+1}),h&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,background:i?`${e.green}15`:`${o.color}10`,padding:"3px 10px",borderRadius:8,transition:"all .3s"},children:[t.jsx("span",{style:{fontSize:13,fontWeight:800,color:i?e.green:o.color,fontFeatureSettings:"'tnum'",minWidth:20,textAlign:"center"},children:c}),t.jsxs("span",{style:{fontSize:11,color:e.muted,fontWeight:600},children:["/ ",n.repetition]})]}),!h&&i&&t.jsx("span",{style:{fontSize:11,color:e.green,fontWeight:700,animation:"checkIn .3s ease"},children:"ØªÙ…"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[t.jsx("div",{onClick:v=>v.stopPropagation(),children:t.jsx(_,{compact:!0,content:{title:o.label,text:n.arabic,source:n.source}})}),c>0&&t.jsx("button",{onClick:v=>{v.stopPropagation(),H(g,r)},style:{width:28,height:28,borderRadius:8,border:`1px solid ${e.muted}25`,background:s?`${e.muted}10`:`${e.muted}08`,color:e.muted,fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all .2s",WebkitTapHighlightColor:"transparent",padding:0},children:"â†º"})]})]}),t.jsx("div",{style:{background:i?s?`${e.green}06`:`${e.green}08`:s?`${o.color}06`:`${o.color}08`,borderRadius:14,padding:"14px 16px",marginBottom:8,transition:"all .3s",position:"relative"},children:t.jsx("p",{style:{fontFamily:"Amiri",fontSize:19,color:i?`${e.text}99`:e.text,lineHeight:2,margin:0,textAlign:"center",transition:"color .3s"},children:n.arabic})}),n.transliteration&&t.jsx("p",{style:{fontSize:11,color:i?`${e.textSec}80`:e.textSec,margin:"0 0 6px",lineHeight:1.6,fontStyle:"italic",textAlign:"center",padding:"0 4px",transition:"color .3s"},children:n.transliteration}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:8,paddingTop:8,borderTop:`1px solid ${i?`${e.green}15`:`${e.border}18`}`},children:[t.jsx("span",{style:{fontSize:10,color:e.muted,background:s?`${e.gold}08`:`${e.gold}12`,padding:"3px 10px",borderRadius:8},children:n.source}),!i&&t.jsx("span",{style:{fontSize:10,color:`${o.color}88`,fontWeight:600},children:h?"Ø§Ø¶ØºØ· Ù„Ù„ØªØ³Ø¨ÙŠØ­":"Ø§Ø¶ØºØ· Ù„Ù„ØªØ­Ù‚Ù‚"})]}),i&&t.jsxs("div",{style:{marginTop:10,padding:"8px 12px",background:s?`${e.green}0C`:`${e.green}12`,borderRadius:12,textAlign:"center",animation:"fadeIn .4s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[t.jsx("span",{style:{fontSize:14},children:"âœ”"}),t.jsx("span",{style:{fontSize:12,color:e.green,fontWeight:700},children:"Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ"})]})]})]},r)})}),x===100&&t.jsxs("div",{style:{marginTop:16,textAlign:"center",padding:"20px 16px",borderRadius:20,background:s?`linear-gradient(135deg,${o.color}10,${e.green}0A)`:`linear-gradient(135deg,${o.color}18,${e.green}12)`,border:`1.5px solid ${e.green}25`,animation:"fadeInScale .5s ease"},children:[t.jsx("div",{style:{fontSize:40,marginBottom:4},children:"ğŸ‰"}),t.jsxs("p",{style:{fontSize:16,fontWeight:800,color:o.color,margin:"0 0 4px",fontFamily:"Amiri"},children:["Ø£Ø­Ø³Ù†Øª! Ø£ÙƒÙ…Ù„Øª ",o.label]}),t.jsx("p",{style:{fontSize:12,color:e.green,margin:0,fontWeight:600},children:"ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†Ùƒ"})]}),t.jsx("div",{style:{height:20}})]})})})}export{Q as Adhkar};
