import{r as i,j as t,v as K,w as Q}from"./vendor-Bi5sqrid.js";import{C as x}from"./Card-BRvchg4M.js";import{S as d}from"./Sec-ENK_plZ8.js";import{B as N}from"./Btn-lON0l03F.js";import{u as Z,g as ee,f as s,N as m,r as te}from"./index-B2foSesu.js";import{e as B,J as L}from"./data-3aVLcfxd.js";const g=o=>({width:"100%",background:o.inputBg,border:`1px solid ${o.muted}25`,borderRadius:10,padding:"9px 12px",color:o.text,fontFamily:s,fontSize:13,outline:"none",direction:"rtl",boxSizing:"border-box"});function ae({state:o,dispatch:l}){const e=Z(),b=ee(),[H,j]=i.useState(!1),[S,v]=i.useState(""),[E,A]=i.useState(""),[k,$]=i.useState(""),[p,J]=i.useState("general"),[z,D]=i.useState(!1),[a,R]=i.useState("duas"),u=new Date,T=u.getFullYear()+"-"+String(u.getMonth()+1).padStart(2,"0")+"-"+String(u.getDate()).padStart(2,"0"),P=Math.max(0,(b.day??u.getDate())-1),U=L[P%L.length],c=o.journal[T],[_,V]=i.useState(c?.freeText??""),[F,M]=i.useState(c?.closestToAllah??""),[O,G]=i.useState(c?.improveText??""),[h,X]=i.useState(c?.dayRating??0),[C,q]=i.useState(!1),w=o.duas.filter(n=>n.answered),W=o.duas.filter(n=>!n.answered),I=n=>({flex:1,padding:"9px 6px",borderRadius:12,border:`1.5px solid ${n?e.gold:e.border+"30"}`,background:n?`${e.gold}15`:"transparent",color:n?e.goldLight:e.muted,fontSize:12,fontWeight:700,cursor:"pointer",fontFamily:s,transition:"all .2s",textAlign:"center"});return t.jsx(K,{children:t.jsx(Q,{fullscreen:!0,className:"ion-padding",style:{fontFamily:s,"--background":e.bg,"--ion-background-color":e.bg,color:e.text},children:t.jsxs("div",{className:"ion-content-inner",children:[t.jsx("div",{style:{textAlign:"center",padding:"12px 0 6px"},children:t.jsx("h2",{style:{fontFamily:"Amiri",fontSize:20,color:e.goldLight,margin:0},children:"ğŸ“ Ø¯ÙØªØ± Ø±Ù…Ø¶Ø§Ù†"})}),t.jsxs("div",{style:{display:"flex",gap:6,margin:"8px 0 12px"},children:[t.jsx("button",{style:I(a==="duas"),onClick:()=>R("duas"),children:"ğŸ¤² Ø£Ø¯Ø¹ÙŠØ©"}),t.jsx("button",{style:I(a==="journal"),onClick:()=>R("journal"),children:"ğŸ“ Ù…Ø°ÙƒØ±Ø§Øª"}),t.jsx("button",{style:I(a==="podcasts"),onClick:()=>R("podcasts"),children:"ğŸ™ï¸ Ø¯Ø±ÙˆØ³"})]}),a==="duas"&&t.jsxs(t.Fragment,{children:[t.jsxs(x,{glow:!0,style:{marginTop:0},children:[t.jsx(d,{icon:"ğŸ¤²",text:`Ø£Ø¯Ø¹ÙŠØªÙŠ (${W.length})`}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap",marginBottom:10},children:B.map(n=>t.jsxs("button",{onClick:()=>J(n.id),style:{padding:"5px 10px",borderRadius:10,border:`1.5px solid ${p===n.id?e.gold:e.border+"30"}`,background:p===n.id?`${e.gold}15`:"transparent",color:p===n.id?e.goldLight:e.muted,fontSize:10,fontFamily:s,cursor:"pointer",fontWeight:600,transition:"all .2s"},children:[n.icon," ",n.label]},n.id))}),W.map((n,r)=>{const f=o.duas.indexOf(n),y=B.find(Y=>Y.id===n.category);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:e.bb(e.gold),borderRadius:12,padding:"9px 12px",marginBottom:5},children:[t.jsx("span",{style:{fontSize:14},children:y?.icon??"ğŸ¤²"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("p",{style:{margin:0,fontSize:13,fontFamily:"Amiri",lineHeight:1.8,color:e.text},children:n.text}),y&&y.id!=="general"&&t.jsx("span",{style:{fontSize:9,color:e.muted,background:`${e.muted}12`,borderRadius:6,padding:"1px 6px"},children:y.label})]}),t.jsx("button",{onClick:()=>l({type:"TOGGLE_DUA_ANSWERED",i:f}),title:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©",style:{width:26,height:26,borderRadius:8,border:`1px solid ${e.green}40`,background:`${e.green}12`,color:e.green,fontSize:12,cursor:"pointer"},children:"âœ“"}),t.jsx("button",{onClick:()=>l({type:"RM_DUA",i:f}),style:{width:22,height:22,borderRadius:7,border:"none",background:`${e.red}20`,color:e.red,fontSize:12,cursor:"pointer"},children:"âœ•"})]},r)}),t.jsxs("div",{style:{display:"flex",gap:7,marginTop:4},children:[t.jsx("input",{value:k,onChange:n=>$(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø¯Ø¹Ø§Ø¡...",style:{flex:1,background:e.inputBg,border:`1px solid ${e.muted}28`,borderRadius:12,padding:"10px 12px",color:e.text,fontFamily:"Amiri",fontSize:14,outline:"none",direction:"rtl"}}),t.jsx("button",{onClick:()=>{k.trim()&&(l({type:"ADD_DUA",d:{text:k,day:`${b.day||"â€”"} Ø±Ù…Ø¶Ø§Ù†`,category:p}}),$(""))},style:{width:40,height:40,borderRadius:12,border:"none",background:e.gold,color:"#fff",fontSize:18,cursor:"pointer",fontWeight:800,flexShrink:0},children:"+"})]}),w.length>0&&t.jsxs("div",{style:{marginTop:12},children:[t.jsxs("button",{onClick:()=>q(!C),style:{width:"100%",padding:"10px",borderRadius:12,border:`1px solid ${e.green}25`,background:`${e.green}08`,color:e.green,fontSize:12,cursor:"pointer",fontFamily:s,fontWeight:600},children:["âœ… Ø¯Ø¹ÙˆØ§Øª Ù…Ø³ØªØ¬Ø§Ø¨Ø© (",w.length,") ",C?"â–²":"â–¼"]}),C&&w.map((n,r)=>{const f=o.duas.indexOf(n);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:`${e.green}08`,borderRadius:12,padding:"9px 12px",marginTop:5,border:`1px solid ${e.green}15`},children:[t.jsx("span",{style:{fontSize:14},children:"âœ…"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("p",{style:{margin:0,fontSize:13,fontFamily:"Amiri",lineHeight:1.8,color:e.green},children:n.text}),n.answeredDate&&t.jsxs("span",{style:{fontSize:9,color:e.muted},children:["Ø§Ø³ØªÙØ¬ÙŠØ¨Øª ",n.answeredDate]})]}),t.jsx("button",{onClick:()=>l({type:"TOGGLE_DUA_ANSWERED",i:f}),style:{fontSize:10,color:e.muted,background:"transparent",border:"none",cursor:"pointer",fontFamily:s,textDecoration:"underline"},children:"ØªØ±Ø§Ø¬Ø¹"})]},r)})]})]}),t.jsxs(x,{style:{marginTop:12},children:[t.jsx(d,{icon:"ğŸ””",text:"ØªØ°ÙƒÙŠØ± Ø£Ø¯Ø¹ÙŠØ© ÙˆØ¥Ø´Ø¹Ø§Ø±Ø§Øª"}),t.jsx("p",{style:{fontSize:11,color:e.muted,margin:"0 0 10px"},children:"Ø§Ø®ØªØ± ÙƒÙ„ ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ÙŠÙˆØµÙ„Ùƒ Ø¯Ø¹Ø§Ø¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ù‚Ø§Ø¦Ù…ØªÙƒ."}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:12},children:m.map(n=>t.jsx("button",{onClick:()=>{l({type:"SET_DUA_NOTIFICATION_INTERVAL",interval:o.duaNotificationInterval===n.value?null:n.value})},style:{padding:"10px 16px",borderRadius:12,border:`1.5px solid ${o.duaNotificationInterval===n.value?e.green:e.border+"30"}`,background:o.duaNotificationInterval===n.value?`${e.green}15`:"transparent",color:o.duaNotificationInterval===n.value?e.green:e.text,fontSize:12,fontFamily:s,cursor:"pointer",fontWeight:600,transition:"all .2s",flex:"1 1 auto",minWidth:"calc(33.333% - 6px)"},children:n.label},n.value))}),o.duaNotificationInterval&&t.jsxs("p",{style:{fontSize:12,color:e.green,margin:"0 0 12px",textAlign:"center"},children:["âœ“ ØªØ°ÙƒÙŠØ± Ù…ÙØ¹Ù‘Ù„ ÙƒÙ„ ",m.find(n=>n.value===o.duaNotificationInterval)?.label]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:12,padding:"10px 12px",background:e.cardAlt,borderRadius:12},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[t.jsx("span",{style:{fontSize:16},children:"ğŸ—£ï¸"}),t.jsx("span",{style:{fontSize:12,color:e.text},children:"Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ Ø¨Ø§Ù„ØµÙˆØª"})]}),t.jsx("button",{onClick:()=>l({type:"SET_NOTIFICATION_VOICE",enabled:!o.notificationVoiceEnabled}),style:{width:44,height:24,borderRadius:12,border:"none",background:o.notificationVoiceEnabled?e.green:e.muted+"44",padding:2,cursor:"pointer"},children:t.jsx("div",{style:{width:20,height:20,borderRadius:10,background:"#fff",transform:o.notificationVoiceEnabled?"translateX(0)":"translateX(20px)",transition:"transform .2s"}})})]}),t.jsx("p",{style:{fontSize:10,color:e.muted,margin:"6px 0 0",textAlign:"center"},children:"Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ØŒ Ø³ÙŠØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ù†Øµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø§Ù„ØµÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:8,padding:"10px 12px",background:e.cardAlt,borderRadius:12},children:[t.jsx("span",{style:{fontSize:12,color:e.text},children:"ØªØ°ÙƒÙŠØ±Ø§Øª ØªØ´Ø¬ÙŠØ¹ÙŠØ©"}),t.jsx("button",{onClick:()=>l({type:"SET_REMINDERS_ENABLED",enabled:!o.remindersEnabled}),style:{width:44,height:24,borderRadius:12,border:"none",background:o.remindersEnabled?e.green:e.muted+"44",padding:2,cursor:"pointer"},children:t.jsx("div",{style:{width:20,height:20,borderRadius:10,background:"#fff",transform:o.remindersEnabled?"translateX(0)":"translateX(20px)",transition:"transform .2s"}})})]}),t.jsx("button",{disabled:z,onClick:async()=>{D(!0),await te(),D(!1)},style:{marginTop:10,padding:"10px 14px",borderRadius:12,border:`1px solid ${e.gold}50`,background:e.bb(e.gold),color:e.gold,fontSize:12,cursor:z?"wait":"pointer",fontFamily:s,width:"100%"},children:z?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø·Ù„Ø¨...":"Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"})]}),t.jsxs(x,{glow:!0,style:{marginTop:12},children:[t.jsx(d,{icon:"ğŸ’š",text:"Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ"}),t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 12px",lineHeight:1.6},children:"Ø§Ø®ØªØ± ÙƒÙ„ ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ØªØ­Ø¨ ÙŠÙˆØµÙ„Ùƒ ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ï·º"}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:m.map(n=>t.jsx("button",{onClick:()=>{l({type:"SET_SALAH_ALA_NABY_INTERVAL",interval:o.salahAlaNabyInterval===n.value?null:n.value})},style:{padding:"10px 16px",borderRadius:12,border:`1.5px solid ${o.salahAlaNabyInterval===n.value?e.green:e.border+"30"}`,background:o.salahAlaNabyInterval===n.value?`${e.green}15`:"transparent",color:o.salahAlaNabyInterval===n.value?e.green:e.text,fontSize:12,fontFamily:s,cursor:"pointer",fontWeight:600,transition:"all .2s",flex:"1 1 auto",minWidth:"calc(33.333% - 6px)"},children:n.label},n.value))}),o.salahAlaNabyInterval?t.jsxs("p",{style:{fontSize:12,color:e.green,textAlign:"center",margin:"12px 0 0"},children:["âœ“ ØªØ°ÙƒÙŠØ± Ù…ÙØ¹Ù‘Ù„ ÙƒÙ„ ",m.find(n=>n.value===o.salahAlaNabyInterval)?.label]}):t.jsx("p",{style:{fontSize:12,color:e.muted,textAlign:"center",margin:"12px 0 0"},children:"Ø§Ø®ØªØ± ÙØªØ±Ø© Ø§Ù„ØªØ°ÙƒÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰"})]})]}),a==="journal"&&t.jsxs(x,{glow:!0,style:{marginTop:0},children:[t.jsx(d,{icon:"ğŸ“",text:"Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…"}),t.jsxs("p",{style:{fontSize:12,color:e.accent,fontWeight:600,margin:"0 0 10px",fontFamily:"Amiri",lineHeight:1.8},children:["ğŸ’­ ",U]}),t.jsx("p",{style:{fontSize:12,color:e.textSec,margin:"0 0 5px"},children:"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙŠÙˆÙ…:"}),t.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginBottom:12},children:[1,2,3,4,5].map(n=>t.jsx("button",{onClick:()=>X(n),style:{width:40,height:40,borderRadius:12,border:`2px solid ${h>=n?e.gold:e.border+"40"}`,background:h>=n?`${e.gold}18`:"transparent",cursor:"pointer",fontSize:16,transition:"all .2s"},children:h>=n?"â­":"â˜†"},n))}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ’š Ø¥ÙŠÙ‡ Ø£ÙƒØªØ± Ø­Ø§Ø¬Ø© Ù‚Ø±Ø¨ØªÙƒ Ù…Ù† Ø±Ø¨Ù†Ø§ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ"}),t.jsx("textarea",{value:F,onChange:n=>M(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:{...g(e),resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ¯ Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ Ù†ÙØ³Ùƒ ØªØ­Ø³Ù‘Ù†Ù‡ Ø¨ÙƒØ±Ø©ØŸ"}),t.jsx("textarea",{value:O,onChange:n=>G(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:{...g(e),resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ“ ÙƒØªØ§Ø¨Ø© Ø­Ø±Ø©"}),t.jsx("textarea",{value:_,onChange:n=>V(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø£ÙŠ Ø­Ø§Ø¬Ø© ÙÙŠ Ù‚Ù„Ø¨Ùƒ...",rows:4,style:{...g(e),resize:"none"}})]}),t.jsx(N,{small:!0,color:e.green,onClick:()=>{l({type:"SAVE_JOURNAL",date:T,entry:{date:T,dayRating:h,closestToAllah:F,improveText:O,freeText:_}})},style:{width:"100%"},children:"Ø­ÙØ¸ Ø§Ù„Ù…Ø°ÙƒØ±Ø© âœ“"}),c&&t.jsx("p",{style:{fontSize:11,color:e.green,margin:"8px 0 0",textAlign:"center"},children:"âœ… Ø§Ù„Ù…Ø°ÙƒØ±Ø© Ù…Ø­ÙÙˆØ¸Ø©"}),Object.keys(o.journal).length>0&&t.jsxs("div",{style:{marginTop:14},children:[t.jsx(d,{icon:"ğŸ“…",text:"Ø§Ù„Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"}),Object.entries(o.journal).sort(([n],[r])=>r.localeCompare(n)).slice(0,7).map(([n,r])=>t.jsxs("div",{style:{background:e.cardAlt,borderRadius:12,padding:"10px 12px",marginBottom:6},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[t.jsx("span",{style:{fontSize:11,color:e.gold,fontWeight:600},children:n}),t.jsx("span",{style:{fontSize:12},children:"â­".repeat(r.dayRating)})]}),r.closestToAllah&&t.jsxs("p",{style:{fontSize:11,color:e.textSec,margin:"2px 0",lineHeight:1.6},children:["ğŸ’š ",r.closestToAllah]}),r.freeText&&t.jsxs("p",{style:{fontSize:11,color:e.muted,margin:"2px 0",lineHeight:1.6},children:[r.freeText.slice(0,100),r.freeText.length>100?"...":""]})]},n))]})]}),a==="podcasts"&&t.jsxs(x,{glow:!0,style:{marginTop:0},children:[t.jsx(d,{icon:"ğŸ™ï¸",text:`Ø¨ÙˆØ¯ÙƒØ§Ø³Øª ÙˆØ¯Ø±ÙˆØ³ (${o.podcasts.length})`}),o.podcasts.map((n,r)=>t.jsxs("div",{style:{background:e.cardAlt,borderRadius:14,padding:"12px 14px",marginBottom:7,position:"relative"},children:[t.jsx("button",{onClick:()=>l({type:"RM_PODCAST",i:r}),style:{position:"absolute",top:7,left:7,width:22,height:22,borderRadius:7,border:"none",background:`${e.red}20`,color:e.red,fontSize:12,cursor:"pointer"},children:"âœ•"}),t.jsx("p",{style:{margin:0,fontSize:13,fontWeight:700,color:e.text,paddingLeft:26},children:n.title}),t.jsx("p",{style:{margin:"2px 0 0",fontSize:10,color:e.muted},children:n.day}),n.note&&t.jsxs("p",{style:{margin:"6px 0 0",fontSize:12,color:e.goldLight,background:e.bb(e.gold),padding:"7px 10px",borderRadius:10,lineHeight:1.7},children:["ğŸ’¡ ",n.note]})]},r)),H?t.jsxs("div",{style:{background:e.cardAlt,borderRadius:14,padding:"12px"},children:[t.jsx("input",{value:S,onChange:n=>v(n.target.value),placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©...",style:{...g(e),marginBottom:7,background:e.bg}}),t.jsx("textarea",{value:E,onChange:n=>A(n.target.value),placeholder:"Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ...",rows:3,style:{...g(e),resize:"none",background:e.bg}}),t.jsxs("div",{style:{display:"flex",gap:7,marginTop:7},children:[t.jsx(N,{small:!0,color:e.green,onClick:()=>{S.trim()&&(l({type:"ADD_PODCAST",p:{title:S,note:E,day:`${b.day||"â€”"} Ø±Ù…Ø¶Ø§Ù†`}}),v(""),A(""),j(!1))},style:{flex:1},children:"Ø­ÙØ¸ âœ“"}),t.jsx(N,{small:!0,color:e.muted,onClick:()=>{j(!1),v(""),A("")},style:{flex:1},children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):t.jsx("button",{onClick:()=>j(!0),style:{width:"100%",padding:"12px",borderRadius:14,border:`2px dashed ${e.accent}35`,background:`${e.accent}08`,color:e.accent,fontSize:12,cursor:"pointer",fontFamily:s,fontWeight:600},children:"+ Ø£Ø¶Ù Ù…Ø­Ø§Ø¶Ø±Ø© / Ø¨ÙˆØ¯ÙƒØ§Ø³Øª"})]}),t.jsx("div",{style:{height:16}})]})})})}export{ae as Notes};
