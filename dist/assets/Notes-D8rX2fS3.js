import{r as i,j as t,v as Z,w as ee}from"./vendor-Bi5sqrid.js";import{C as p}from"./Card-Bdr-XdgY.js";import{S as x}from"./Sec-Bi0Jx7XW.js";import{B as D}from"./Btn-CUbNTwBl.js";import{u as te,g as ne,f as l,p as L,r as oe}from"./index-w3GncQQ4.js";import{e as M,J as H}from"./data-3aVLcfxd.js";const u=r=>({width:"100%",background:r.inputBg,border:`1px solid ${r.muted}25`,borderRadius:10,padding:"9px 12px",color:r.text,fontFamily:l,fontSize:13,outline:"none",direction:"rtl",boxSizing:"border-box"});function ce({state:r,dispatch:s}){const e=te(),f=ne(),[U,b]=i.useState(!1),[j,S]=i.useState(""),[$,T]=i.useState(""),[k,I]=i.useState(""),[m,J]=i.useState("general"),[E,_]=i.useState(r.duaNotificationTime??""),[A,N]=i.useState(!1),[d,v]=i.useState("duas"),h=new Date,z=h.getFullYear()+"-"+String(h.getMonth()+1).padStart(2,"0")+"-"+String(h.getDate()).padStart(2,"0"),P=Math.max(0,(f.day??h.getDate())-1),G=H[P%H.length],g=r.journal[z],[F,q]=i.useState(g?.freeText??""),[B,Y]=i.useState(g?.closestToAllah??""),[O,V]=i.useState(g?.improveText??""),[y,X]=i.useState(g?.dayRating??0),[R,K]=i.useState(!1),C=r.duas.filter(n=>n.answered),W=r.duas.filter(n=>!n.answered),w=n=>({flex:1,padding:"9px 6px",borderRadius:12,border:`1.5px solid ${n?e.gold:e.border+"30"}`,background:n?`${e.gold}15`:"transparent",color:n?e.goldLight:e.muted,fontSize:12,fontWeight:700,cursor:"pointer",fontFamily:l,transition:"all .2s",textAlign:"center"});return t.jsx(Z,{children:t.jsx(ee,{fullscreen:!0,className:"ion-padding",style:{fontFamily:l,"--background":e.bg,"--ion-background-color":e.bg,color:e.text},children:t.jsxs("div",{className:"ion-content-inner",children:[t.jsx("div",{style:{textAlign:"center",padding:"12px 0 6px"},children:t.jsx("h2",{style:{fontFamily:"Amiri",fontSize:20,color:e.goldLight,margin:0},children:"ğŸ“ Ø¯ÙØªØ± Ø±Ù…Ø¶Ø§Ù†"})}),t.jsxs("div",{style:{display:"flex",gap:6,margin:"8px 0 12px"},children:[t.jsx("button",{style:w(d==="duas"),onClick:()=>v("duas"),children:"ğŸ¤² Ø£Ø¯Ø¹ÙŠØ©"}),t.jsx("button",{style:w(d==="journal"),onClick:()=>v("journal"),children:"ğŸ“ Ù…Ø°ÙƒØ±Ø§Øª"}),t.jsx("button",{style:w(d==="podcasts"),onClick:()=>v("podcasts"),children:"ğŸ™ï¸ Ø¯Ø±ÙˆØ³"})]}),d==="duas"&&t.jsxs(t.Fragment,{children:[t.jsxs(p,{glow:!0,style:{marginTop:0},children:[t.jsx(x,{icon:"ğŸ¤²",text:`Ø£Ø¯Ø¹ÙŠØªÙŠ (${W.length})`}),t.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap",marginBottom:10},children:M.map(n=>t.jsxs("button",{onClick:()=>J(n.id),style:{padding:"5px 10px",borderRadius:10,border:`1.5px solid ${m===n.id?e.gold:e.border+"30"}`,background:m===n.id?`${e.gold}15`:"transparent",color:m===n.id?e.goldLight:e.muted,fontSize:10,fontFamily:l,cursor:"pointer",fontWeight:600,transition:"all .2s"},children:[n.icon," ",n.label]},n.id))}),W.map((n,o)=>{const a=r.duas.indexOf(n),c=M.find(Q=>Q.id===n.category);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:e.bb(e.gold),borderRadius:12,padding:"9px 12px",marginBottom:5},children:[t.jsx("span",{style:{fontSize:14},children:c?.icon??"ğŸ¤²"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("p",{style:{margin:0,fontSize:13,fontFamily:"Amiri",lineHeight:1.8,color:e.text},children:n.text}),c&&c.id!=="general"&&t.jsx("span",{style:{fontSize:9,color:e.muted,background:`${e.muted}12`,borderRadius:6,padding:"1px 6px"},children:c.label})]}),t.jsx("button",{onClick:()=>s({type:"TOGGLE_DUA_ANSWERED",i:a}),title:"ØªÙ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©",style:{width:26,height:26,borderRadius:8,border:`1px solid ${e.green}40`,background:`${e.green}12`,color:e.green,fontSize:12,cursor:"pointer"},children:"âœ“"}),t.jsx("button",{onClick:()=>s({type:"RM_DUA",i:a}),style:{width:22,height:22,borderRadius:7,border:"none",background:`${e.red}20`,color:e.red,fontSize:12,cursor:"pointer"},children:"âœ•"})]},o)}),t.jsxs("div",{style:{display:"flex",gap:7,marginTop:4},children:[t.jsx("input",{value:k,onChange:n=>I(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø¯Ø¹Ø§Ø¡...",style:{flex:1,background:e.inputBg,border:`1px solid ${e.muted}28`,borderRadius:12,padding:"10px 12px",color:e.text,fontFamily:"Amiri",fontSize:14,outline:"none",direction:"rtl"}}),t.jsx("button",{onClick:()=>{k.trim()&&(s({type:"ADD_DUA",d:{text:k,day:`${f.day||"â€”"} Ø±Ù…Ø¶Ø§Ù†`,category:m}}),I(""))},style:{width:40,height:40,borderRadius:12,border:"none",background:e.gold,color:"#fff",fontSize:18,cursor:"pointer",fontWeight:800,flexShrink:0},children:"+"})]}),C.length>0&&t.jsxs("div",{style:{marginTop:12},children:[t.jsxs("button",{onClick:()=>K(!R),style:{width:"100%",padding:"10px",borderRadius:12,border:`1px solid ${e.green}25`,background:`${e.green}08`,color:e.green,fontSize:12,cursor:"pointer",fontFamily:l,fontWeight:600},children:["âœ… Ø¯Ø¹ÙˆØ§Øª Ù…Ø³ØªØ¬Ø§Ø¨Ø© (",C.length,") ",R?"â–²":"â–¼"]}),R&&C.map((n,o)=>{const a=r.duas.indexOf(n);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:`${e.green}08`,borderRadius:12,padding:"9px 12px",marginTop:5,border:`1px solid ${e.green}15`},children:[t.jsx("span",{style:{fontSize:14},children:"âœ…"}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("p",{style:{margin:0,fontSize:13,fontFamily:"Amiri",lineHeight:1.8,color:e.green},children:n.text}),n.answeredDate&&t.jsxs("span",{style:{fontSize:9,color:e.muted},children:["Ø§Ø³ØªÙØ¬ÙŠØ¨Øª ",n.answeredDate]})]}),t.jsx("button",{onClick:()=>s({type:"TOGGLE_DUA_ANSWERED",i:a}),style:{fontSize:10,color:e.muted,background:"transparent",border:"none",cursor:"pointer",fontFamily:l,textDecoration:"underline"},children:"ØªØ±Ø§Ø¬Ø¹"})]},o)})]})]}),t.jsxs(p,{style:{marginTop:12},children:[t.jsx(x,{icon:"ğŸ””",text:"ØªØ°ÙƒÙŠØ± Ø£Ø¯Ø¹ÙŠØ© ÙˆØ¥Ø´Ø¹Ø§Ø±Ø§Øª"}),t.jsx("p",{style:{fontSize:11,color:e.muted,margin:"0 0 10px"},children:"Ø§Ø®ØªØ± ÙˆÙ‚Øª ÙŠÙˆØµÙ„Ùƒ ÙÙŠÙ‡ Ø¯Ø¹Ø§Ø¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ù‚Ø§Ø¦Ù…ØªÙƒ ÙƒÙ„ ÙŠÙˆÙ…."}),t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[t.jsx("input",{type:"time",value:E||r.duaNotificationTime||"",onChange:n=>_(n.target.value),style:{background:e.inputBg,border:`1px solid ${e.muted}28`,borderRadius:12,padding:"10px 12px",color:e.text,fontSize:14,fontFamily:l}}),t.jsx("button",{onClick:()=>{const n=E.trim(),o=n?L(n):null;if(o){const a=String(o.hour).padStart(2,"0"),c=String(o.minute).padStart(2,"0");s({type:"SET_DUA_NOTIFICATION_TIME",time:`${a}:${c}`})}},style:{padding:"10px 14px",borderRadius:12,border:"none",background:e.green,color:"#fff",fontSize:12,cursor:"pointer",fontFamily:l,fontWeight:600},children:"ØªÙØ¹ÙŠÙ„"}),r.duaNotificationTime&&t.jsx("button",{onClick:()=>{s({type:"SET_DUA_NOTIFICATION_TIME",time:null}),_("")},style:{padding:"10px 14px",borderRadius:12,border:`1px solid ${e.red}40`,background:"transparent",color:e.red,fontSize:12,cursor:"pointer",fontFamily:l},children:"Ø¥Ù„ØºØ§Ø¡"})]}),r.duaNotificationTime&&t.jsxs("p",{style:{fontSize:12,color:e.green,margin:"8px 0 0"},children:["âœ“ ØªØ°ÙƒÙŠØ± Ù…ÙØ¹Ù‘Ù„ Ø§Ù„Ø³Ø§Ø¹Ø© ",r.duaNotificationTime]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:12,padding:"10px 12px",background:e.cardAlt,borderRadius:12},children:[t.jsx("span",{style:{fontSize:12,color:e.text},children:"ØªØ°ÙƒÙŠØ±Ø§Øª ØªØ´Ø¬ÙŠØ¹ÙŠØ©"}),t.jsx("button",{onClick:()=>s({type:"SET_REMINDERS_ENABLED",enabled:!r.remindersEnabled}),style:{width:44,height:24,borderRadius:12,border:"none",background:r.remindersEnabled?e.green:e.muted+"44",padding:2,cursor:"pointer"},children:t.jsx("div",{style:{width:20,height:20,borderRadius:10,background:"#fff",transform:r.remindersEnabled?"translateX(0)":"translateX(20px)",transition:"transform .2s"}})})]}),t.jsx("button",{disabled:A,onClick:async()=>{N(!0),await oe(),N(!1)},style:{marginTop:10,padding:"10px 14px",borderRadius:12,border:`1px solid ${e.gold}50`,background:e.bb(e.gold),color:e.gold,fontSize:12,cursor:A?"wait":"pointer",fontFamily:l,width:"100%"},children:A?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø·Ù„Ø¨...":"Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"})]}),t.jsxs(p,{glow:!0,style:{marginTop:12},children:[t.jsx(x,{icon:"ğŸ’š",text:"Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ"}),t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 12px",lineHeight:1.6},children:"Ø£Ø¶Ù Ø£ÙˆÙ‚Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ù„Ù„ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ï·º ÙŠÙˆÙ…ÙŠÙ‹Ø§"}),t.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:t.jsx("input",{type:"time",onChange:n=>{const o=n.target.value;o&&L(o)&&(s({type:"ADD_SALAH_ALA_NABY_TIME",time:o}),n.target.value="")},style:{flex:1,background:e.inputBg,border:`1px solid ${e.muted}28`,borderRadius:12,padding:"10px 12px",color:e.text,fontSize:14,fontFamily:l}})}),r.salahAlaNabyTimes.length>0&&t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:r.salahAlaNabyTimes.map((n,o)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",background:e.cardAlt,borderRadius:12,border:`1px solid ${e.border}15`},children:[t.jsxs("span",{style:{fontSize:13,color:e.text,fontWeight:600},children:["ğŸ• ",n]}),t.jsx("button",{onClick:()=>s({type:"REMOVE_SALAH_ALA_NABY_TIME",index:o}),style:{padding:"6px 12px",borderRadius:10,border:`1px solid ${e.red}30`,background:"transparent",color:e.red,fontSize:11,cursor:"pointer",fontFamily:l},children:"Ø­Ø°Ù"})]},o))}),r.salahAlaNabyTimes.length===0&&t.jsx("p",{style:{fontSize:12,color:e.muted,textAlign:"center",margin:"8px 0"},children:"Ù„Ù… ØªØ¶Ù Ø£ÙŠ Ø£ÙˆÙ‚Ø§Øª Ø¨Ø¹Ø¯"})]})]}),d==="journal"&&t.jsxs(p,{glow:!0,style:{marginTop:0},children:[t.jsx(x,{icon:"ğŸ“",text:"Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…"}),t.jsxs("p",{style:{fontSize:12,color:e.accent,fontWeight:600,margin:"0 0 10px",fontFamily:"Amiri",lineHeight:1.8},children:["ğŸ’­ ",G]}),t.jsx("p",{style:{fontSize:12,color:e.textSec,margin:"0 0 5px"},children:"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙŠÙˆÙ…:"}),t.jsx("div",{style:{display:"flex",justifyContent:"center",gap:6,marginBottom:12},children:[1,2,3,4,5].map(n=>t.jsx("button",{onClick:()=>X(n),style:{width:40,height:40,borderRadius:12,border:`2px solid ${y>=n?e.gold:e.border+"40"}`,background:y>=n?`${e.gold}18`:"transparent",cursor:"pointer",fontSize:16,transition:"all .2s"},children:y>=n?"â­":"â˜†"},n))}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ’š Ø¥ÙŠÙ‡ Ø£ÙƒØªØ± Ø­Ø§Ø¬Ø© Ù‚Ø±Ø¨ØªÙƒ Ù…Ù† Ø±Ø¨Ù†Ø§ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ"}),t.jsx("textarea",{value:B,onChange:n=>Y(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:{...u(e),resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ¯ Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ Ù†ÙØ³Ùƒ ØªØ­Ø³Ù‘Ù†Ù‡ Ø¨ÙƒØ±Ø©ØŸ"}),t.jsx("textarea",{value:O,onChange:n=>V(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ù‡Ù†Ø§...",rows:2,style:{...u(e),resize:"none"}})]}),t.jsxs("div",{style:{marginBottom:10},children:[t.jsx("p",{style:{fontSize:11,color:e.textSec,margin:"0 0 4px"},children:"ğŸ“ ÙƒØªØ§Ø¨Ø© Ø­Ø±Ø©"}),t.jsx("textarea",{value:F,onChange:n=>q(n.target.value),placeholder:"Ø§ÙƒØªØ¨ Ø£ÙŠ Ø­Ø§Ø¬Ø© ÙÙŠ Ù‚Ù„Ø¨Ùƒ...",rows:4,style:{...u(e),resize:"none"}})]}),t.jsx(D,{small:!0,color:e.green,onClick:()=>{s({type:"SAVE_JOURNAL",date:z,entry:{date:z,dayRating:y,closestToAllah:B,improveText:O,freeText:F}})},style:{width:"100%"},children:"Ø­ÙØ¸ Ø§Ù„Ù…Ø°ÙƒØ±Ø© âœ“"}),g&&t.jsx("p",{style:{fontSize:11,color:e.green,margin:"8px 0 0",textAlign:"center"},children:"âœ… Ø§Ù„Ù…Ø°ÙƒØ±Ø© Ù…Ø­ÙÙˆØ¸Ø©"}),Object.keys(r.journal).length>0&&t.jsxs("div",{style:{marginTop:14},children:[t.jsx(x,{icon:"ğŸ“…",text:"Ø§Ù„Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"}),Object.entries(r.journal).sort(([n],[o])=>o.localeCompare(n)).slice(0,7).map(([n,o])=>t.jsxs("div",{style:{background:e.cardAlt,borderRadius:12,padding:"10px 12px",marginBottom:6},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[t.jsx("span",{style:{fontSize:11,color:e.gold,fontWeight:600},children:n}),t.jsx("span",{style:{fontSize:12},children:"â­".repeat(o.dayRating)})]}),o.closestToAllah&&t.jsxs("p",{style:{fontSize:11,color:e.textSec,margin:"2px 0",lineHeight:1.6},children:["ğŸ’š ",o.closestToAllah]}),o.freeText&&t.jsxs("p",{style:{fontSize:11,color:e.muted,margin:"2px 0",lineHeight:1.6},children:[o.freeText.slice(0,100),o.freeText.length>100?"...":""]})]},n))]})]}),d==="podcasts"&&t.jsxs(p,{glow:!0,style:{marginTop:0},children:[t.jsx(x,{icon:"ğŸ™ï¸",text:`Ø¨ÙˆØ¯ÙƒØ§Ø³Øª ÙˆØ¯Ø±ÙˆØ³ (${r.podcasts.length})`}),r.podcasts.map((n,o)=>t.jsxs("div",{style:{background:e.cardAlt,borderRadius:14,padding:"12px 14px",marginBottom:7,position:"relative"},children:[t.jsx("button",{onClick:()=>s({type:"RM_PODCAST",i:o}),style:{position:"absolute",top:7,left:7,width:22,height:22,borderRadius:7,border:"none",background:`${e.red}20`,color:e.red,fontSize:12,cursor:"pointer"},children:"âœ•"}),t.jsx("p",{style:{margin:0,fontSize:13,fontWeight:700,color:e.text,paddingLeft:26},children:n.title}),t.jsx("p",{style:{margin:"2px 0 0",fontSize:10,color:e.muted},children:n.day}),n.note&&t.jsxs("p",{style:{margin:"6px 0 0",fontSize:12,color:e.goldLight,background:e.bb(e.gold),padding:"7px 10px",borderRadius:10,lineHeight:1.7},children:["ğŸ’¡ ",n.note]})]},o)),U?t.jsxs("div",{style:{background:e.cardAlt,borderRadius:14,padding:"12px"},children:[t.jsx("input",{value:j,onChange:n=>S(n.target.value),placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©...",style:{...u(e),marginBottom:7,background:e.bg}}),t.jsx("textarea",{value:$,onChange:n=>T(n.target.value),placeholder:"Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ...",rows:3,style:{...u(e),resize:"none",background:e.bg}}),t.jsxs("div",{style:{display:"flex",gap:7,marginTop:7},children:[t.jsx(D,{small:!0,color:e.green,onClick:()=>{j.trim()&&(s({type:"ADD_PODCAST",p:{title:j,note:$,day:`${f.day||"â€”"} Ø±Ù…Ø¶Ø§Ù†`}}),S(""),T(""),b(!1))},style:{flex:1},children:"Ø­ÙØ¸ âœ“"}),t.jsx(D,{small:!0,color:e.muted,onClick:()=>{b(!1),S(""),T("")},style:{flex:1},children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):t.jsx("button",{onClick:()=>b(!0),style:{width:"100%",padding:"12px",borderRadius:14,border:`2px dashed ${e.accent}35`,background:`${e.accent}08`,color:e.accent,fontSize:12,cursor:"pointer",fontFamily:l,fontWeight:600},children:"+ Ø£Ø¶Ù Ù…Ø­Ø§Ø¶Ø±Ø© / Ø¨ÙˆØ¯ÙƒØ§Ø³Øª"})]}),t.jsx("div",{style:{height:16}})]})})})}export{ce as Notes};
